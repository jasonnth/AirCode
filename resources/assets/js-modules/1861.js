__d(function(e,t,r,s){Object.defineProperty(s,"__esModule",{value:!0});var a=t(379),n=babelHelpers.interopRequireDefault(a),i=t(412),l=babelHelpers.interopRequireDefault(i),o=t(271),u=(babelHelpers.interopRequireDefault(o),t(790)),d=t(44),c=t(773),p=babelHelpers.interopRequireDefault(c),b=t(410),f=babelHelpers.interopRequireDefault(b),T=t(1862),I=babelHelpers.interopRequireDefault(T),h=t(1057),S=babelHelpers.interopRequireDefault(h),v=t(778),y=babelHelpers.interopRequireDefault(v),R=t(787),H=babelHelpers.interopRequireDefault(R),k=t(1788),P=babelHelpers.interopRequireDefault(k),F=t(1797),G=t(1803),_=t(1789),q=t(1752),A=t(1770),D=babelHelpers.interopRequireWildcard(A),N={createFeedbacksForTripInstance:l.default.func.isRequired,updateFeedbackForGuest:l.default.func.isRequired,loadTripInstance:l.default.func.isRequired,submitHostFeedback:l.default.func.isRequired,loadStats:l.default.func.isRequired,guestProfiles:l.default.array,tripInstancesById:l.default.object.isRequired,feedbackByGuestProfileId:l.default.object,shouldLoadStats:l.default.bool.isRequired,selectedTripInstanceId:l.default.number.isRequired},E={},m=function(e){function t(r){babelHelpers.classCallCheck(this,t);var s=babelHelpers.possibleConstructorReturn(this,e.call(this,r));return s.advanceToGuestListScreen=s.advanceToGuestListScreen.bind(s),s.readyToAdvanceToGuestListScreen=s.readyToAdvanceToGuestListScreen.bind(s),s.submitNoAttendanceReview=s.submitNoAttendanceReview.bind(s),s}return babelHelpers.inherits(t,e),t.prototype.componentWillMount=function(){var e=this.props,t=e.selectedTripInstanceId,r=e.shouldLoadStats;this.props.createFeedbacksForTripInstance({tripInstanceId:t}),this.props.loadTripInstance({id:t}),r&&this.props.loadStats()},t.prototype.advanceToGuestListScreen=function(){var e=this.props.selectedTripInstanceId;f.default.push(D.REVIEW_GUESTS_LIST,{selectedTripInstanceId:e})},t.prototype.submitNoAttendanceReview=function(){this.props.submitHostFeedback({feedbackByGuestProfileId:this.props.feedbackByGuestProfileId,tripInstanceId:this.props.selectedTripInstanceId}).then(function(){f.default.push(D.NO_ATTENDEES_CONFIRMATION)})},t.prototype.renderGuestRow=function(e){var t=this,r=this.props.feedbackByGuestProfileId,s=e.guestProfileId,a=r[s],n=_.NO_THUMBS_STATE;a&&(n=a.feedbackType);var i=n!==_.DID_NOT_ATTEND_STATE;return babelHelpers.jsx(I.default,{title:e.firstName,avatarUrl:e.profilePictureUrl,checked:i,onToggle:function(){t.props.updateFeedbackForGuest({guestProfileId:s,feedbackType:i?_.DID_NOT_ATTEND_STATE:_.NO_THUMBS_STATE})}},s)},t.prototype.readyToAdvanceToGuestListScreen=function(){var e=this.props,t=e.guestProfiles,r=e.feedbackByGuestProfileId;return t&&t.some(function(e){var t=r[e.guestProfileId];return!t||t.feedbackType!==_.DID_NOT_ATTEND_STATE})},t.prototype.render=function(){var e=this,t=this.props.guestProfiles,r=babelHelpers.jsx(p.default,{title:n.default.phrase("Confirm that each guest attended",null,'Marquee header for the "confirm attendance" screen for experience hosts'),subtitle:n.default.phrase("You\u2019ll only review guests who attended your experience.",null,'Marquee subtitle for the "confirm attendance" screen for experience hosts')}),s=this.readyToAdvanceToGuestListScreen()?babelHelpers.jsx(S.default,{babu:!0,onPress:this.advanceToGuestListScreen},void 0,n.default.phrase("Next",null,"button title to take the user to the next step in the flow")):babelHelpers.jsx(S.default,{babu:!0,onPress:this.submitNoAttendanceReview},void 0,n.default.phrase("No guests attended",null,"button title to take the user to the next step in the flow")),a=!t||0===t.length;return babelHelpers.jsx(d.View,{style:d.StyleSheet.absoluteFill},void 0,babelHelpers.jsx(f.default.Screen,{barType:f.default.BAR_TYPE.SPECIALTY,leadingButtonVisible:!0,leftIcon:f.default.Screen.LEFT_ICON.CLOSE}),babelHelpers.jsx(H.default,{withInsets:[S.default]},void 0,r,a&&babelHelpers.jsx(P.default,{}),!a&&babelHelpers.jsx(y.default,{},void 0,t.map(function(t){return e.renderGuestRow(t)}))),!a&&s)},t}(o.PureComponent);m.propTypes=N,m.defaultProps=E;var g=function(e,t){var r=t.selectedTripInstanceId,s=(0,G.tripInstancesSelector)(e),a=(0,G.tripReservationsSelector)(e),n=(0,G.feedbackByGuestProfileIdSelector)(e),i=(0,G.guestProfilesSelector)(e),l=(0,G.reviewableTripInstanceIdsSelector)(e),o=!l||!l.includes(r),u=s[r];return{feedbackByGuestProfileId:n,guestProfiles:(0,q.getTripInstanceGuestProfiles)(u,a,i),tripInstancesById:s,shouldLoadStats:o}},x={createFeedbacksForTripInstance:F.createFeedbacksForTripInstance,updateFeedbackForGuest:F.updateFeedbackForGuest,loadTripInstance:F.loadTripInstance,loadStats:F.loadStats,submitHostFeedback:F.submitHostFeedback};s.default=(0,u.connect)(g,x)(m)},1861);