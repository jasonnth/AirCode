__d(function(t,e,r,a){function s(t){return function(e){return{style:babelHelpers.extends({},e.style,{opacity:t})}}}Object.defineProperty(a,"__esModule",{value:!0});var n=e(412),i=babelHelpers.interopRequireDefault(n),o=e(271),h=(babelHelpers.interopRequireDefault(o),e(44)),p=e(1070),u=e(928),d=e(422),l=babelHelpers.interopRequireDefault(d),f=e(1324),g=babelHelpers.interopRequireDefault(f),c=e(1327),y=babelHelpers.interopRequireDefault(c),P=e(1328),b=babelHelpers.interopRequireDefault(P),x=e(1329),m=babelHelpers.interopRequireDefault(x),C=e(1330),v=babelHelpers.interopRequireDefault(C),X=e(1326),T=babelHelpers.interopRequireDefault(X),A=e(1325),B=babelHelpers.interopRequireDefault(A),R=[0,100],H=(0,m.default)("data"),F={data:b.default.isRequired,xAxisLabels:H.isRequired,yAxisTickFormat:i.default.func,yAxisTickCount:i.default.number,width:i.default.number.isRequired,height:i.default.number.isRequired,perPage:i.default.number.isRequired,onFocusChange:i.default.func.isRequired,onOffsetChange:i.default.func.isRequired,isCompact:i.default.bool,filterNegativeValues:i.default.bool,emptyPageMessage:i.default.string,extraPaddingLeft:i.default.number,extraPaddingRight:i.default.number,onPrevPageButtonPress:i.default.func,onNextPageButtonPress:i.default.func,onFocusChangePress:i.default.func},S={yAxisTickCount:2,filterNegativeValues:!0,onFocusChange:function(){},onOffsetChange:function(){},extraPaddingLeft:0,extraPaddingRight:0,onPrevPageButtonPress:function(){},onNextPageButtonPress:function(){},onFocusChangePress:function(){}},N=s(1),O=s(.75),D=function(t){function e(r){babelHelpers.classCallCheck(this,e);var a=babelHelpers.possibleConstructorReturn(this,t.call(this,r));a.graphStyles={};var s=Math.floor(a.props.data[0].length/2),n=Math.max(0,s-Math.floor(a.props.perPage/2)),i=a.getXAtDataOffset(s);return a.state={offset:n,focusedX:i},a.handleFocusChangeTap=a.handleFocusChangeTap.bind(a),a.handleTapAtX=a.handleTapAtX.bind(a),a.handlePrevPageButtonTap=a.handlePrevPageButtonTap.bind(a),a.handleNextPageButtonTap=a.handleNextPageButtonTap.bind(a),a}return babelHelpers.inherits(e,t),e.prototype.componentDidMount=function(){this.props.onOffsetChange(this.state.offset),this.props.onFocusChange(this.state.focusedX)},e.prototype.getGraphStyle=function(){var t=this.context.theme,e=this.props,r=e.extraPaddingLeft,a=e.extraPaddingRight;return this.graphStyles[t]||(this.graphStyles[t]=(0,v.default)(l.default.theme,{extraPaddingLeft:r,extraPaddingRight:a})),this.graphStyles[t]},e.prototype.getVictoryTheme=function(){return this.getGraphStyle().victoryTheme},e.prototype.getChartPaddingLeft=function(){return this.getVictoryTheme().chart.padding.left},e.prototype.getChartPaddingRight=function(){return this.getVictoryTheme().chart.padding.right},e.prototype.getChartPaddingBottom=function(){return this.getVictoryTheme().chart.padding.bottom},e.prototype.getChartBarGutterWidth=function(){return this.getGraphStyle().barGutterWidth[this.props.isCompact?"compact":"regular"]},e.prototype.getChartingSpaceWidth=function(){return this.props.width-this.getChartPaddingLeft()-this.getChartPaddingRight()},e.prototype.getBarWidth=function(){var t=this.getChartingSpaceWidth(),e=this.props.perPage;return(t-this.getChartBarGutterWidth()*(e-1))/e},e.prototype.getBarCount=function(){return this.props.data[0].length},e.prototype.getXAtDataOffset=function(t){return this.props.data[0][t].x},e.prototype.setOffsetAndFocusedX=function(t,e){var r={offset:t,focusedX:e};this.setState(r),this.props.onOffsetChange(r.offset),this.props.onFocusChange(r.focusedX)},e.prototype.hasNonZeroYValueInCurrentPage=function(){var t=this.props,e=t.data,r=t.perPage,a=this.state.offset;return e.reduce(function(t,e){return t||e.slice(a,a+r).some(function(t){return 0!==t.y})},!1)},e.prototype.rangeForXWithOffset=function(t){return{first:this.getXAtDataOffset(t),last:this.getXAtDataOffset(Math.min(t+this.props.perPage,this.getBarCount())-1)}},e.prototype.minXInDisplayedRange=function(){return this.rangeForXWithOffset(this.state.offset).first},e.prototype.maxXInDisplayedRange=function(){return this.rangeForXWithOffset(this.state.offset).last},e.prototype.hasPrevPage=function(){return this.state.offset>0},e.prototype.hasNextPage=function(){return this.state.offset+this.props.perPage<this.getBarCount()},e.prototype.prevPage=function(){var t=Math.max(0,this.state.offset-this.props.perPage),e=this.rangeForXWithOffset(t),r=e.last;this.setOffsetAndFocusedX(t,r)},e.prototype.nextPage=function(){var t=this.props.perPage,e=Math.min(this.state.offset+t,this.getBarCount()-t),r=this.rangeForXWithOffset(e),a=r.first;this.setOffsetAndFocusedX(e,a)},e.prototype.stateForOffsetWithFocusedX=function(t){return{offset:t,focusedX:this.rangeForXWithOffset(t).first}},e.prototype.focusAtX=function(t){this.setState({focusedX:t}),this.props.onFocusChange(t)},e.prototype.handleFocusChangeTap=function(t){this.focusAtX(t),this.props.onFocusChangePress(t)},e.prototype.handleTapAtX=function(t,e){var r=parseInt(e.datum.x,10);this.handleFocusChangeTap(r)},e.prototype.handlePrevPageButtonTap=function(){this.prevPage(),this.props.onPrevPageButtonPress()},e.prototype.handleNextPageButtonTap=function(){this.nextPage(),this.props.onNextPageButtonPress()},e.prototype.victoryStackEventHandler=function(t){var e=this;return(0,T.default)({onPress:function(){return e.handleTapAtX.apply(e,arguments),[{childName:t,mutation:N}]},onPressIn:function(){return[{childName:t,mutation:O}]},onPressOut:function(){return[{childName:t,mutation:N}]}})},e.prototype.renderFullPageMessage=function(){return this.hasNonZeroYValueInCurrentPage()||!this.props.emptyPageMessage?null:babelHelpers.jsx(y.default,{width:this.props.width,height:this.props.height,theme:this.getVictoryTheme(),text:this.props.emptyPageMessage})},e.prototype.renderXAxis=function(){var t=this,e=this.props.xAxisLabels,r=this.state.focusedX;return babelHelpers.jsx(p.VictoryAxis,{tickCount:this.props.perPage,tickFormat:function(r){return r>=t.minXInDisplayedRange()&&r<=t.maxXInDisplayedRange()?e[r]:" "},tickLabelComponent:babelHelpers.jsx(g.default,{graphStyle:this.getGraphStyle(),focusedX:r,onPress:this.handleFocusChangeTap,touchAreaSize:{width:this.getBarWidth(),height:this.getChartPaddingBottom()}})})},e.prototype.renderYAxis=function(){var t=this.hasNonZeroYValueInCurrentPage()?void 0:R;return babelHelpers.jsx(p.VictoryAxis,{style:this.getGraphStyle().yAxisStyle,tickFormat:this.props.yAxisTickFormat,tickCount:this.props.yAxisTickCount,domain:t,orientation:"left",dependentAxis:!0,crossAxis:!0})},e.prototype.renderBars=function(){var t=this.props,e=t.data,r=t.perPage,a=this.state.offset,s={data:{width:this.getBarWidth()}},n=e.map(function(t,e){var s=t.slice(a,a+r),n=a+"-"+e;return babelHelpers.jsx(p.VictoryBar,{name:n,data:s},n)}),i=n.map(function(t){return t.props.name});return babelHelpers.jsx(p.VictoryStack,{style:s,events:[{childName:i,target:"data",eventHandlers:this.victoryStackEventHandler(i)}]},void 0,n)},e.prototype.renderNavigationButtons=function(){var t=this.getGraphStyle(),e=t.victoryTheme.chart.padding.bottom,r=this.props.height-e,a=e,s=this.getGraphStyle().navButtonStyle;return[this.hasPrevPage()?babelHelpers.jsx(B.default,{onPress:this.handlePrevPageButtonTap},"prev-page",babelHelpers.jsx(u.Rect,{width:this.getChartPaddingLeft(),height:a,fill:"transparent",y:r,x:0}),babelHelpers.jsx(u.Text,{y:r+s.padding.top,x:s.padding.left,style:s,textAnchor:"start"},void 0,"\u2329")):null,this.hasNextPage()?babelHelpers.jsx(B.default,{onPress:this.handleNextPageButtonTap},"next-page",babelHelpers.jsx(u.Rect,{width:this.getChartPaddingRight(),height:a,fill:"transparent",y:r,x:this.props.width-this.getChartPaddingRight()}),babelHelpers.jsx(u.Text,{y:r+s.padding.top,x:this.props.width-s.padding.right,style:s,textAnchor:"end"},void 0,"\u232a")):null]},e.prototype.render=function(){var t=this.props,e=t.width,r=t.height,a=this.getBarWidth()/2+this.getGraphStyle().domainPaddingExtra;return babelHelpers.jsx(h.View,{style:{flex:1}},void 0,babelHelpers.jsx(p.VictoryChart,{width:e,height:r,domainPadding:a,theme:this.getVictoryTheme()},void 0,this.renderFullPageMessage(),this.renderBars(),this.renderXAxis(),this.renderYAxis(),this.renderNavigationButtons()))},e}(o.Component);a.default=D,D.propTypes=F,D.defaultProps=S},1069);