__d(function(e,t,a,o){var s=t(412),n=babelHelpers.interopRequireDefault(s),i=t(271),l=babelHelpers.interopRequireDefault(i),r=t(44),u=t(559),d=t(556),f=babelHelpers.interopRequireDefault(d),b=t(419),c=babelHelpers.interopRequireDefault(b),p=t(415),h=function(e){function t(a,o){babelHelpers.classCallCheck(this,t);var s=babelHelpers.possibleConstructorReturn(this,e.call(this,a,o));return s.deeSubscriptions={},s.neSubscriptions={},s.handleProps(a,{},o.airbnbInstanceId,o.airbnbNavigationBarStyle),s}return babelHelpers.inherits(t,e),t.prototype.componentWillReceiveProps=function(e,t){this.handleProps(e,this.props,t.airbnbInstanceId,t.airbnbNavigationBarStyle)},t.prototype.componentWillUnmount=function(){var e=this;Object.keys(this.deeSubscriptions).forEach(function(t){r.DeviceEventEmitter.removeSubscription(e.deeSubscriptions[t])}),Object.keys(this.neSubscriptions).forEach(function(t){f.default.unsubscribe(e.neSubscriptions[t])})},t.prototype.setCallbackIfNeeded=function(e,t,a,o){t[e]!==a[e]&&(this.setCallback(e,o,t[e]),"onAppear"===e&&"android"===r.Platform.OS&&this.setNavigatorEmitterCallback("ScreenDidMount",o,t[e]))},t.prototype.setNavigatorEmitterCallback=function(e,t,a){var o=e+"."+t;this.neSubscriptions[o]&&f.default.unsubscribe(this.neSubscriptions[o]),this.neSubscriptions[o]=f.default.on(o,a)},t.prototype.setCallback=function(e,t,a){var o="AirbnbNavigatorScene."+e+"."+t;this.deeSubscriptions[o]&&r.DeviceEventEmitter.removeSubscription(this.deeSubscriptions[o]),this.deeSubscriptions[o]=r.DeviceEventEmitter.addListener(o,a)},t.prototype.handleProps=function(e,t,a,o){if(a&&o){var s=o.androidTheme;switch(e.title!==t.title&&(o.title=e.title,c.default.setTitle(e.title,a)),e.backgroundColor!==t.backgroundColor&&(o.backgroundColor=e.backgroundColor,c.default.setBackgroundColor(e.backgroundColor,a)),e.link!==t.link&&c.default.setLink(e.link,a),e.buttons===t.buttons||(0,u.shallowEquals)(e.buttons,t.buttons)||(o.buttons=e.buttons,c.default.setButtons(e.buttons,a)),e.leadingButtonVisible!==t.leadingButtonVisible&&(o.leadingButtonVisible=e.leadingButtonVisible,c.default.setLeadingButtonVisible(e.leadingButtonVisible,a)),e.closeBehavior!==t.closeBehavior&&(o.closeBehavior=e.closeBehavior,c.default.setCloseBehavior(e.closeBehavior,a),null==e.leftIcon&&e.closeBehavior===p.CLOSE_BEHAVIOR.DISMISS&&c.default.setLeftIcon(p.LEFT_ICON.CLOSE,a)),e.snapToFoldOffset!==t.snapToFoldOffset&&(o.snapToFoldOffset=e.snapToFoldOffset,c.default.setSnapToFoldOffset(e.snapToFoldOffset,a)),r.Platform.OS){case"ios":e.barType!==t.barType&&(o.barType=e.barType,c.default.setBarType(e.barType,a)),e.hideStatusBarUntilFoldOffset!==t.hideStatusBarUntilFoldOffset&&null!=e.hideStatusBarUntilFoldOffset&&c.default.setHideStatusBarUntilFoldOffset(e.hideStatusBarUntilFoldOffset,this.context.airbnbInstanceId),e.showTabBar!==t.showTabBar&&(o.showTabBar=e.showTabBar,c.default.setShowTabBar(e.showTabBar,a));break;case"android":e.leftIcon!==t.leftIcon&&c.default.setLeftIcon(e.leftIcon,a),e.barType!==t.barType?(o.barType=e.barType,o.androidTheme=(0,p.themeFromBarStyle)(o),c.default.setTheme(o.androidTheme,a),"static"===o.barType&&c.default.setBackgroundColor("white",a)):(o.androidTheme=(0,p.themeFromBarStyle)(o),o.androidTheme!==s&&(c.default.setTheme(o.androidTheme,a),"static"===o.barType&&c.default.setBackgroundColor("white",a)))}this.setCallbackIfNeeded("onLeftPress",e,t,a),this.setCallbackIfNeeded("onRightPress",e,t,a),this.setCallbackIfNeeded("onAppear",e,t,a),this.setCallbackIfNeeded("onDisappear",e,t,a),this.setCallbackIfNeeded("onLinkPress",e,t,a),this.setCallbackIfNeeded("onTitlePress",e,t,a),this.setCallbackIfNeeded("onButtonPress",e,t,a),this.setCallbackIfNeeded("onEnterTransitionComplete",e,t,a)}},t.prototype.render=function(){return this.props.children?babelHelpers.jsx(r.View,{style:B.Screen},void 0,this.props.children):null},t}(l.default.Component);h.propTypes={children:n.default.node,title:n.default.string,link:n.default.string,buttons:n.default.arrayOf(n.default.oneOf(["filters","map","share","heart-alt","heart","more","search","archive"])),barType:n.default.oneOf(Object.values(p.BAR_TYPE)),closeBehavior:n.default.oneOf(Object.values(p.CLOSE_BEHAVIOR)),hideStatusBarUntilFoldOffset:n.default.bool,leadingButtonVisible:n.default.bool,onAppear:n.default.func,onDisappear:n.default.func,onLeftPress:n.default.func,onLinkPress:n.default.func,onButtonPress:n.default.func,onEnterTransitionComplete:n.default.func,backgroundColor:n.default.oneOf(Object.values(p.COLOR)),leftIcon:n.default.oneOf(Object.values(p.LEFT_ICON))},h.BAR_TYPE=p.BAR_TYPE,h.COLOR=p.COLOR,h.CLOSE_BEHAVIOR=p.CLOSE_BEHAVIOR,h.LEFT_ICON=p.LEFT_ICON,h.contextTypes={airbnbInstanceId:n.default.string,airbnbNavigationBarStyle:n.default.object};var B=r.StyleSheet.create({Screen:{position:"absolute",top:0,left:0,bottom:0,right:0}});a.exports=h},558);