__d(function(e,t,r,n){function i(e){l.Alert.alert(d.default.phrase("Are you sure?",null,"a text asking users to confirm they want to cancel"),d.default.phrase("Your reservation will remain unchanged.",null,"a text indicating the result after user cancels this alteration"),[{text:d.default.phrase("No",null,"a button to click when users do not want to cancel the alteration")},{text:d.default.phrase("Yes",null,"a button to click when users do want to cancel the alteration"),style:"destructive",onPress:function(){e()}}])}Object.defineProperty(n,"__esModule",{value:!0});var s=t(412),a=babelHelpers.interopRequireDefault(s),o=t(271),l=(babelHelpers.interopRequireDefault(o),t(44)),u=t(759),p=babelHelpers.interopRequireDefault(u),c=t(379),d=babelHelpers.interopRequireDefault(c),f=t(773),b=babelHelpers.interopRequireDefault(f),h=t(1057),A=babelHelpers.interopRequireDefault(h),R=t(787),g=babelHelpers.interopRequireDefault(R),H=t(841),y=babelHelpers.interopRequireDefault(H),v=t(1352),q=babelHelpers.interopRequireDefault(v),P=t(1023),I=t(410),T=babelHelpers.interopRequireDefault(I),C=t(654),E=t(790),_=t(1560),S=babelHelpers.interopRequireDefault(_),w=t(1477),O=babelHelpers.interopRequireDefault(w),D=t(1538),m=babelHelpers.interopRequireWildcard(D),x=t(1549),F=t(789),L=babelHelpers.interopRequireDefault(F),N=t(1547),j=babelHelpers.interopRequireWildcard(N),k=t(1550),G=t(1482),U=babelHelpers.interopRequireWildcard(G),M=t(1551),W={confirmationCode:a.default.string.isRequired,viewOnly:a.default.bool.isRequired,isHost:a.default.bool.isRequired,reservation:a.default.object,reservationAlteration:a.default.object,isFetching:a.default.bool.isRequired,isSaving:a.default.bool.isRequired,isUpdating:a.default.bool.isRequired,fetchError:a.default.bool.isRequired,fetch:a.default.func.isRequired,setIsHost:a.default.func.isRequired,cancelAlteration:a.default.func.isRequired,acceptAlteration:a.default.func.isRequired,declineAlteration:a.default.func.isRequired,alterations:a.default.any.isRequired},K={},V=function(e){function t(r){babelHelpers.classCallCheck(this,t);var n=babelHelpers.possibleConstructorReturn(this,e.call(this,r)),s=n.props,a=s.cancelAlteration,o=s.acceptAlteration,l=s.declineAlteration;return n.toastTypes=[{type:k.CANCEL_ALTERATION_FAILED_TOAST,onActionPress:function(){return i(a)}},{type:k.ACCEPT_ALTERATION_FAILED_TOAST,onActionPress:function(){return o()}},{type:k.DECLINE_ALTERATION_FAILED_TOAST,onActionPress:function(){return l()}}],n.onPressHost=n.onPressHost.bind(n),n.onPressGuest=n.onPressGuest.bind(n),n}return babelHelpers.inherits(t,e),t.prototype.onPressHost=function(){(0,M.logAction)(M.ACTIONS.CLICK_PROFILE,this.props.alterations),T.default.push(U.USER_PROFILE,{user_id:this.props.reservation.host.id})},t.prototype.onPressGuest=function(){(0,M.logAction)(M.ACTIONS.CLICK_PROFILE,this.props.alterations),T.default.push(U.USER_PROFILE,{user_id:this.props.reservation.guest.id})},t.prototype.componentDidMount=function(){this.props.setIsHost(this.props.isHost),this.fetchReservation()},t.prototype.fetchReservation=function(){this.props.fetch(this.props.confirmationCode)},t.prototype.render=function(){var e=this,t=this.props,r=t.reservation,n=t.reservationAlteration,s=t.isFetching,a=t.isSaving,o=t.isUpdating,u=t.fetchError,p=t.viewOnly,c=t.isHost,f=t.cancelAlteration,h=!!n&&"host"===n.initiated_by,R=c&&h||!c&&!h,H=!!n&&!s&&!u&&!p&&R,v=!s&&!o&&!n;return babelHelpers.jsx(l.View,{style:l.StyleSheet.absoluteFill},void 0,babelHelpers.jsx(g.default,{withInsets:H?[A.default]:null},void 0,babelHelpers.jsx(b.default,{title:v?d.default.phrase("No reservation changes found",null,"screen title displaying we didnt find the alteration"):d.default.phrase("Changes pending",null,"screen title displaying an alteration"),subtitle:v?d.default.phrase("This change request may have been canceled, accepted or declined. \nPlease refresh the itinerary page to see more details.",null,"subtitle for view alteration screen if an alteration is not found."):""}),s||o?babelHelpers.jsx(l.View,{style:Y.loadingContainer},void 0,babelHelpers.jsx(y.default,{})):n&&babelHelpers.jsx(S.default,{reservation:r,reservationAlteration:n,isHost:c,isInitiatedByHost:h,onPressHost:this.onPressHost,onPressGuest:this.onPressGuest,onPressAccept:function(){return T.default.push(m.RESPONSE_CONFIRMATION,{isAccepting:!0})},onPressDecline:function(){return T.default.push(m.RESPONSE_CONFIRMATION,{isAccepting:!1})}})),babelHelpers.jsx(L.default,{withInsets:[H&&A.default]},void 0,babelHelpers.jsx(q.default,{id:k.FETCH_FAILED_TOAST,description:d.default.phrase("Something went wrong",null,"an error message"),action:d.default.phrase("Try again",null,"a button asking user to try again after something went wrong"),onActionPress:function(){return e.fetchReservation()}}),this.toastTypes.map(function(e){return babelHelpers.jsx(q.default,{id:e.type,description:d.default.phrase("Something went wrong",null,"an error message"),action:d.default.phrase("Try again",null,"a button asking user to try again after something went wrong"),onActionPress:e.onActionPress},e.type)})),H&&babelHelpers.jsx(A.default,{onPress:function(){return i(f)},loading:a},void 0,d.default.phrase("Cancel Request",null,"a primary button to cancel alteration request")))},t}(o.PureComponent);V.defaultProps=K,V.propTypes=W;var Y=l.StyleSheet.create({loadingContainer:{alignItems:"center",marginTop:8*P.bp}}),B=(0,E.connect)(function(e){var t=(0,x.rootSelector)(e);return babelHelpers.extends({alterations:t},(0,p.default)(t,["reservation","reservationAlteration","isFetching","isSaving","isUpdating","fetchError"]))},function(e){return(0,C.bindActionCreators)({fetch:j.fetch,setIsHost:j.setIsHost,cancelAlteration:j.cancelAlteration,acceptAlteration:j.acceptAlteration,declineAlteration:j.declineAlteration},e)})(V);n.default=(0,O.default)(j.resetState)(B)},1559);