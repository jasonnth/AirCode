__d(function(e,t,o,n){Object.defineProperty(n,"__esModule",{value:!0});var l=t(271),i=babelHelpers.interopRequireDefault(l),r=t(834),s=t(44),a=t(1038),u=babelHelpers.interopRequireDefault(a),p=t(422),d=babelHelpers.interopRequireDefault(p),h=t(410),c=babelHelpers.interopRequireDefault(h),f=t(420),b=babelHelpers.interopRequireDefault(f),y=t(840),T=t(1582),g=babelHelpers.interopRequireDefault(T),I=t(830),H=babelHelpers.interopRequireDefault(I),m={autoHeight:r.Types.bool,barType:r.Types.oneOf(Object.values(c.default.BAR_TYPE)),buttons:r.Types.arrayOf(r.Types.shape({icon:r.Types.string.isRequired,onPress:r.Types.func.isRequired})),children:r.Types.node.isRequired,horizontalContentOffset:r.Types.number,itemHeight:r.Types.number,itemWidth:r.Types.number,onIndexChange:r.Types.func,onIndexTransition:r.Types.func,onScroll:r.Types.func,onSetScrollView:r.Types.func,onShareButtonPress:r.Types.func,onWishlistButtonPress:r.Types.func,scrollEnabled:r.Types.bool,scrollEventThrottle:r.Types.number,scrollToIndex:r.Types.number,showPositionIndicator:r.Types.bool,showFullWidthItem:r.Types.bool},w={autoHeight:!1,barType:null,buttons:[],horizontalContentOffset:null,itemHeight:null,itemWidth:null,onIndexChange:function(){},onIndexTransition:function(){},onScroll:function(){},onSetScrollView:function(){},onShareButtonPress:function(){},onWishlistButtonPress:function(){},scrollEnabled:!0,scrollEventThrottle:32,scrollToIndex:null,showPositionIndicator:!0,showFullWidthItem:!1},S="android"===s.Platform.OS,v=function(e){function t(o){babelHelpers.classCallCheck(this,t);var n=babelHelpers.possibleConstructorReturn(this,e.call(this,o));return n.state={scrollIndex:0},n.handleScroll=n.handleScroll.bind(n),n.setScrollView=n.setScrollView.bind(n),n}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){var e=this.props.scrollToIndex;e&&this.scrollToIndex(e)},t.prototype.setScrollView=function(e){var t=this.props.onSetScrollView;this.scrollView=e,t(e)},t.prototype.getItemWidth=function(){return this.props.itemWidth||(0,y.getWindowWidth)()},t.prototype.getItemHeight=function(){return this.props.itemHeight||(0,y.getWindowHeight)()},t.prototype.getScrollHorizontalPadding=function(){var e=this.props,t=e.showFullWidthItem,o=e.children;return t||1===l.Children.count(o)?0:((0,y.getWindowWidth)()-this.getItemWidth())/2},t.prototype.scrollToIndex=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.scrollView.scrollTo({x:e*this.getItemWidth(),animated:t})},t.prototype.handleScroll=function(e){var t=this.props.onScroll,o=e.nativeEvent.contentOffset.x/this.getItemWidth(),n=Math.round(o);t(e),n!==this.state.scrollIndex&&(this.setState({scrollIndex:n}),this.props.onIndexChange(n)),this.props.onIndexTransition(o)},t.prototype.isFullHeight=function(){return null===this.props.itemHeight||this.props.itemHeight>=(0,y.getWindowHeight)()},t.prototype.renderSwipeMarquee=function(e){var t=this.props,o=t.autoHeight,n=t.children,r=t.horizontalContentOffset,a=t.scrollEnabled,u=t.scrollEventThrottle,p=t.showFullWidthItem,h=l.Children.toArray(n).filter(Boolean),c=o?null:this.getItemHeight(),f=this.getItemWidth(),y=null!==r?r:this.getScrollHorizontalPadding(),T=null;b.default.isTablet&&!b.default.isLandscape()&&(T=S?Math.ceil(f):f);var g=1===l.Children.count(h);return i.default.createElement(s.ScrollView,{ref:this.setScrollView,style:[e.swipeMarqueeContainer,p&&{width:f}],horizontal:!0,scrollEnabled:a&&!g,showsHorizontalScrollIndicator:!1,onScroll:this.handleScroll,pagingEnabled:!T||S,decelerationRate:0,scrollEventThrottle:u,contentContainerStyle:{paddingHorizontal:y},snapToAlignment:"start",snapToInterval:T},l.Children.map(h.filter(Boolean),function(t){return null===t?null:babelHelpers.jsx(s.View,{style:[d.default.overflowHidden,{width:f}]},void 0,i.default.cloneElement(t,{style:[e.swipeMarqueeItem,{height:c}]}))}))},t.prototype.renderPositionIndicator=function(e){if(!this.props.showPositionIndicator)return null;var t=this.props.children,o=l.Children.toArray(t).filter(Boolean).length;return o<=1?null:babelHelpers.jsx(s.View,{style:[e.positionIndicator,this.isFullHeight()&&e.positionIndicatorHigher]},void 0,babelHelpers.jsx(g.default,{numDots:o,activeIndex:this.state.scrollIndex}))},t.prototype.render=function(){var e=this.props,t=e.barType,o=e.buttons,n=b.default.isLandscape()?c.default.Screen.BAR_TYPE.BASIC:c.default.Screen.BAR_TYPE.SPECIALTY,l=t||n;return babelHelpers.jsx(s.View,{style:d.default.overflowHidden},void 0,babelHelpers.jsx(c.default.Screen,{barType:l,hideStatusBarUntilFoldOffset:!!this.isFullHeight()||null}),this.renderSwipeMarquee(x),this.renderPositionIndicator(x),babelHelpers.jsx(s.View,{},void 0,babelHelpers.jsx(H.default,{},void 0,o.map(function(e){return babelHelpers.jsx(u.default,{icon:e.icon,onPress:e.onPress},e.icon)}))))},t}(i.default.Component);n.default=v,v.propTypes=m,v.defaultProps=w;var x=d.default.create(function(e){var t=e.bp;return{positionIndicator:{bottom:4*t,position:"absolute",left:0,right:0},positionIndicatorHigher:{bottom:18*t},swipeMarqueeContainer:{flexDirection:"row"},swipeMarqueeItem:{flexDirection:"row"}}})},1581);