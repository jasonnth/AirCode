__d(function(e,i,t,s){Object.defineProperty(s,"__esModule",{value:!0});var n=i(42),r=babelHelpers.interopRequireDefault(n),u=i(715),a=babelHelpers.interopRequireDefault(u),l=function(){return new Promise(function(){})},c=function(){},h=r.default.module({moduleName:"WishListBridge",isEventEmitter:!0,mock:{isListingWishListed:l,isPlaceWishListed:l,isTripTemplateWishListed:l,toggleListingWishListed:c,togglePlaceWishListed:c,toggleTripTemplateWishListed:c}}),o={TRIP:"trip",PLACE:"place",LISTING:"listing"},d={INSIDER_DETAIL_SCREEN:"INSIDER_DETAIL_SCREEN",INSIDER_MAP_SCREEN:"INSIDER_MAP_SCREEN",SINGLE_EXPERIENCE_TRIP_TEMPLATE_SCREEN:"SINGLE_EXPERIENCE_TRIP_TEMPLATE_SCREEN",TRIP_TEMPLATE_SCREEN:"TRIP_TEMPLATE_SCREEN",PLACE_SCREEN:"PLACE_SCREEN"},E=0,L=function(){return"."+E++},I={},f={},g=function(e,i){return e+"|"+i},p={TYPE:o,SOURCE:d,isListingWishListed:function(e,i){return h.isListingWishListed(parseInt(e,10)).then(function(e){return i(e)})},isPlaceWishListed:function(e,i){return h.isPlaceWishListed(parseInt(e,10)).then(function(e){return i(e)})},isTripTemplateWishListed:function(e,i){return h.isTripTemplateWishListed(parseInt(e,10)).then(function(e){return i(e)})},toggleListingWishListed:function(e,i){return h.toggleListingWishListed({id:parseInt(e,10),source:i})},togglePlaceWishListed:function(e,i){return h.togglePlaceWishListed({id:parseInt(e,10),source:i})},toggleTripTemplateWishListed:function(e,i){return h.toggleTripTemplateWishListed({id:parseInt(e,10),source:i})},getIsWishlisted:function(e,i){switch(e){case o.TRIP:return h.isTripTemplateWishListed(parseInt(i,10));case o.PLACE:return h.isPlaceWishListed(parseInt(i,10));case o.LISTING:return h.isListingWishListed(parseInt(i,10));default:throw new Error("Type "+e+" is not supported")}},getWishlistIds:function(){},subscribe:function(e,i,t){var s=g(e,i),n=L();return I[s]||(I[s]=[]),I[s].push(n),f[n]={key:s,type:e,id:i,callback:t},n},unsubscribe:function(e){var i=f[e];if(i){delete f[e];var t=I[i.key];if(t){var s=t.indexOf(e);-1!==s&&(t.splice(s,1),0===t.length&&delete I[i.key])}}},emit:function(e,i,t){var s=g(e,i),n=I[s];n&&n.forEach(function(e){var i=f[e];!i||i.callback,i.callback(t)})},subscribeIsWishlisted:function(e,i,t){return this.getIsWishlisted(e,i).then(t),this.subscribe(e,i,t)},subscribeWishlistIds:function(e,i,t){var s=this;return this.getWishlistIds(e,i).then(t),this.subscribe(e,i,function(){return s.getWishlistIds(e,i).then(t)})},onIsWishlistedStateChange:function(e){var i=e.type,t=e.id,s=e.isWishlisted;this.emit(i,t,s)},onWishListBulkChange:function(){var e=this;(0,a.default)(Object.values(f),"key").forEach(function(i){var t=i.type,s=i.id;e.getIsWishlisted(t,s).then(function(i){return e.emit(t,s,i)})})}};h.emitter.addListener("wishListStateChanged",function(e){return p.onIsWishlistedStateChange(e)}),h.emitter.addListener("wishListBulkChange",function(){return p.onWishListBulkChange()}),s.default=p},714);