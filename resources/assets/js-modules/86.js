__d(function(t,r,e,i){"use strict";var n=r(87),s=r(89),o=r(23),u=r(18),c=function(){function t(r){babelHelpers.classCallCheck(this,t),this._subscriber=r||new s}return t.prototype.addListener=function(t,r,e){return this._subscriber.addSubscription(t,new n(this,this._subscriber,r,e))},t.prototype.once=function(t,r,e){var i=this;return this.addListener(t,function(){for(var t=arguments.length,n=Array(t),s=0;s<t;s++)n[s]=arguments[s];i.removeCurrentListener(),r.apply(e,n)})},t.prototype.removeAllListeners=function(t){this._subscriber.removeAllSubscriptions(t)},t.prototype.removeCurrentListener=function(){u(!!this._currentSubscription,"Not in an emitting cycle; there is no current subscription"),this.removeSubscription(this._currentSubscription)},t.prototype.removeSubscription=function(t){u(t.emitter===this,"Subscription does not belong to this emitter."),this._subscriber.removeSubscription(t)},t.prototype.listeners=function(t){var r=this._subscriber.getSubscriptionsForType(t);return r?r.filter(o.thatReturnsTrue).map(function(t){return t.listener}):[]},t.prototype.emit=function(t){var r=this._subscriber.getSubscriptionsForType(t);if(r){for(var e=0,i=r.length;e<i;e++){var n=r[e];n&&(this._currentSubscription=n,n.listener.apply(n.context,Array.prototype.slice.call(arguments,1)))}this._currentSubscription=null}},t.prototype.removeListener=function(t,r){var e=this._subscriber.getSubscriptionsForType(t);if(e)for(var i=0,n=e.length;i<n;i++){var s=e[i];s&&s.listener===r&&s.remove()}},t}();e.exports=c},86);