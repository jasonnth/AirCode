__d(function(e,t,s,a){function r(e,t){return e.get(R.THREAD_TYPE+"$"+t)}Object.defineProperty(a,"__esModule",{value:!0});var i=t(412),n=babelHelpers.interopRequireDefault(i),l=t(271),o=babelHelpers.interopRequireDefault(l),u=t(44),d=t(654),p=t(790),b=t(379),f=babelHelpers.interopRequireDefault(b),c=t(2251),S=babelHelpers.interopRequireDefault(c),m=t(2245),y=babelHelpers.interopRequireDefault(m),h=t(2225),T=t(417),D=babelHelpers.interopRequireDefault(T),v=t(2232),H=t(2254),g=t(2243),I=babelHelpers.interopRequireWildcard(g),R=t(2375),j={item:n.default.object.isRequired,data:n.default.object,prev:n.default.object,next:n.default.object,sender:n.default.object,isViewer:n.default.bool,prevIsSameUser:n.default.bool,showTimestamp:n.default.bool,retrySend:n.default.func.isRequired,participantsByID:n.default.instanceOf(D.default.Map).isRequired,isLastMessageInClump:n.default.bool},x=function(e){function t(s){babelHelpers.classCallCheck(this,t);var a=babelHelpers.possibleConstructorReturn(this,e.call(this,s));return a.onPress=a.onPress.bind(a),a}return babelHelpers.inherits(t,e),t.prototype.onPress=function(){var e=this.props.item;e.sendStatus===h.SEND_STATUS.FAILED&&this.props.retrySend(I.SUPPORT_CHAT,e.threadID,e)},t.prototype.renderBubble=function(){var e=this.props,t=e.item,s=e.data,a=e.isViewer,r=e.showTimestamp,i=e.isLastMessageInClump,n=s.body||"",l=t.sendStatus===h.SEND_STATUS.FAILED,o=t.sendStatus===h.SEND_STATUS.SENDING,d=H.MessageSendStatus.sent;l?d=H.MessageSendStatus.failed:o&&(d=H.MessageSendStatus.pending);var p=(0,H.createBubbleContainerStyle)({messageSendStatus:d,isViewer:a,isLastMessageInClump:i}),b=(0,H.createTextStyle)(d);return babelHelpers.jsx(S.default,{showSenderImage:!a&&i,senderImage:R.senderAvatarImageURL,isViewer:a,showPadding:!1,showDefaultBorder:!1,timestamp:t.timestamp,showTimestamp:r},void 0,babelHelpers.jsx(u.View,{style:p},void 0,babelHelpers.jsx(u.TouchableOpacity,{onPress:this.onPress,disabled:!l},void 0,babelHelpers.jsx(y.default,{viewer:a,content:n}),l&&babelHelpers.jsx(u.Text,{style:b},void 0,f.default.phrase("Failed to send. Tap to retry.",null,"Status of a message that failed to send.")),o&&babelHelpers.jsx(u.Text,{style:b},void 0,f.default.phrase("Sending...",null,"Status of a messaging that is being sent.")))))},t.prototype.renderStatusMessage=function(){var e=this.props.item,t=e.data.body;return babelHelpers.jsx(u.View,{style:H.caseClosedContainer},void 0,babelHelpers.jsx(u.Text,{style:H.statusItemText},void 0,t))},t.prototype.render=function(){var e=this.props,t=e.item,s=e.participantsByID,a=r(s,t.senderID),i=a.data.account_type===R.SERVICE_TYPE;return babelHelpers.jsx(u.View,{},void 0,i?this.renderStatusMessage():this.renderBubble())},t}(o.default.PureComponent);x.propTypes=j;var E=D.default.Map(),w=function(e,t){return{participantsByID:e[t.reducerName||R.DEFAULT_REDUCER_NAME].participantsByID||E}};a.default=(0,p.connect)(w,function(e){return(0,d.bindActionCreators)({retrySend:v.retrySend},e)})(x)},2376);