__d(function(t,e,n,i){function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var l=e(924),d=o(l),u=e(549),p=o(u),h=e(759),c=o(h),f=e(438),m=o(f),y=e(1175),g=o(y),v=e(1134),P=o(v),C=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},E=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),S=e(271),D=o(S),b=e(1131),W=o(b),T=e(1139),L=function(t){function e(t){a(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.state={nodesShouldLoad:!1,nodesDoneLoad:!1,nodesDoneClipPathLoad:!1,animating:!0};var i=n.props.children;return n.continuous=i.type&&i.type.continuous,n.getTransitionState=n.getTransitionState.bind(n),n}return s(e,t),E(e,[{key:"componentWillReceiveProps",value:function(t){this.setState(this.getTransitionState(this.props,t))}},{key:"shouldAnimateProps",value:function(t){return!(0,d.default)(this.getWhitelistedProps(this.props),this.getWhitelistedProps(t))}},{key:"getWhitelistedProps",value:function(t){var e=t.children&&t.children.props||{};return t.animationWhitelist?(0,c.default)(e,t.animationWhitelist):e}},{key:"shouldAnimateState",value:function(t,e){var n=this.props.children;if(n.type.role&&"axis"===n.type.role)return!1;var i=this.getParentState(t,e);if(!i)return this.animateState(e);var o=i.animating&&!i.nodesDoneLoad;return this.animateState(i,o)}},{key:"getParentState",value:function(t,e){var n=e.oldProps||this.props;return n.animate&&n.animate.parentState||t.animate&&t.animate.parentState}},{key:"animateState",value:function(t,e){var n=t.nodesWillExit,i=t.nodesWillEnter,o=t.nodesShouldEnter,a=t.nodesShouldLoad,r=t.nodesDoneLoad,s=t.nodesDoneClipPathLoad,l=t.nodesDoneClipPathEnter,d=t.nodesDoneClipPathExit,u=t.animating,p=e||!r&&(!!a||s),h=o||i||l,c=n||d;return(u||this.state.animating)&&(p||h||c)}},{key:"shouldComponentUpdate",value:function(t,e){return!!this.shouldAnimateState(t,e)||!!this.shouldAnimateProps(t)}},{key:"componentWillUpdate",value:function(t,e){if(e.animating!==this.state.animating&&!1===e.animating){(t&&t.animate&&t.animate.onEnd||p.default)()}}},{key:"componentDidMount",value:function(){this.transitionProps&&this.transitionProps.cb&&this.transitionProps.cb()}},{key:"getTransitionState",value:function(t,e){var n=t.animate;if(n){if(n.parentState){var i=n.parentState;return{oldProps:i.nodesWillExit&&!i.nodesDoneClipPathExit?t:null}}var o=D.default.Children.toArray(t.children),a=D.default.Children.toArray(e.children),r=T.Transitions.getInitialTransitionState(o,a),s=r.nodesWillExit,l=r.nodesWillEnter,d=r.childrenTransitions,u=r.nodesShouldEnter,p=r.nodesShouldLoad,h=r.nodesDoneLoad,c=r.nodesDoneClipPathLoad,f=r.nodesDoneClipPathEnter,m=r.nodesDoneClipPathExit,y=r.animating,g={nodesWillExit:s,nodesWillEnter:l,childrenTransitions:d,nodesShouldEnter:u,nodesShouldLoad:p||this.state.nodesShouldLoad,nodesDoneLoad:h||this.state.nodesDoneLoad,animating:y||this.state.animating,oldProps:s&&!m?t:null};return this.continuous?(0,P.default)({nodesDoneClipPathEnter:f,nodesDoneClipPathExit:m,nodesDoneClipPathLoad:c||this.state.nodesDoneClipPathLoad},g):g}return{}}},{key:"getDomainFromChildren",value:function(t,e){var n=D.default.Children.toArray(t.children)[0],i=n.props||{},o=Array.isArray(i.domain)?i.domain:i.domain&&i.domain[e];if(!i.children&&o)return o;var a=function t(n){return n.reduce(function(n,i){if(i.type&&(0,m.default)(i.type.getDomain)){var o=i.props&&i.type.getDomain(i.props,e);return o?n.concat(o):n}return i.props&&i.props.children?n.concat(t(D.default.Children.toArray(i.props.children))):n},[])}([n]);return 0===a.length?[0,1]:[T.Collection.getMinValue(a),T.Collection.getMaxValue(a)]}},{key:"render",value:function(){var t=this,e=this.state&&this.state.nodesWillExit&&!this.state.nodesDoneClipPathExit?this.state.oldProps||this.props:this.props,n=this.props.animate&&this.props.animate.getTransitions?this.props.animate.getTransitions:T.Transitions.getTransitionPropsFactory(e,this.state,function(e){return t.setState(e)}),i=D.default.Children.toArray(e.children)[0],o=n(i);this.transitionProps=o;var a={x:this.getDomainFromChildren(e,"x"),y:this.getDomainFromChildren(e,"y")},r=(0,g.default)({domain:a},o,i.props),s=e.animationWhitelist||[],l=this.continuous?s.concat(["clipWidth","clipHeight","translateX"]):s,d=l.length?(0,c.default)(r,l):r;return D.default.createElement(W.default,C({},r.animate,{data:d}),function(e){if(t.continuous){var n=e.clipWidth,o=e.clipHeight,a=e.translateX,s=e.padding,l=D.default.cloneElement(i.props.groupComponent,{clipWidth:n,clipHeight:o,translateX:a,padding:s});return D.default.cloneElement(i,(0,g.default)({animate:null,groupComponent:l},e,r))}return D.default.cloneElement(i,(0,g.default)({animate:null},e,r))})}}]),e}(D.default.Component);L.displayName="VictoryTransition",L.propTypes={animate:D.default.PropTypes.object,children:D.default.PropTypes.node,animationWhitelist:D.default.PropTypes.array},i.default=L},1219);