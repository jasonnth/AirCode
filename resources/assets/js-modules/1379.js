__d(function(e,t,a,n){Object.defineProperty(n,"__esModule",{value:!0});var i=t(412),r=babelHelpers.interopRequireDefault(i),s=t(271),o=babelHelpers.interopRequireDefault(s),l=t(44),h=t(782),u=babelHelpers.interopRequireDefault(h),d=t(562),f=babelHelpers.interopRequireDefault(d),c=t(1191),p=babelHelpers.interopRequireDefault(c),g=t(1380),m=babelHelpers.interopRequireDefault(g),b=t(1378),y={fetchStates:r.default.func.isRequired,children:r.default.func.isRequired,minDate:r.default.string,maxDate:r.default.string,anchor:r.default.string,delayRendering:r.default.bool,setTimeout:r.default.func.isRequired},v={delayRendering:!1},D=3,H=1500,R=1125,x=function(e){function t(a,n){babelHelpers.classCallCheck(this,t);var i=babelHelpers.possibleConstructorReturn(this,e.call(this,a,n)),r=a.minDate?(0,f.default)(a.minDate):(0,f.default)(),s=a.anchor?(0,f.default)(a.anchor):(0,f.default)(),o=a.maxDate?(0,f.default)(a.maxDate):(0,f.default)().add(R,"days"),l=(0,b.getMonthDistanceFrom)(r,s),h=l;i.manager=new m.default(a.fetchStates);var u=(0,p.default)(D).map(function(e){var t=(0,f.default)(s).add(e,"months"),a=t.month()+1,n=t.year(),i=(0,b.getMonthViewHeight)(a,n),r=h;return h+=i,{id:e,date:t,month:a,year:n,height:i,translateY:r}});return i.state={offset:l,states:u,height:l+H,minDate:r,maxDate:o},i.lastValue=0,i.maxHeight=null,i.onMonthReceived=i.onMonthReceived.bind(i),i.scrollChanged=i.scrollChanged.bind(i),i.setScrollView=i.setScrollView.bind(i),i}return babelHelpers.inherits(t,e),t.prototype.componentWillMount=function(){this.manager.subscribe(this.onMonthReceived)},t.prototype.componentDidMount=function(){var e=this,t=this.state.offset;this.props.setTimeout(function(){e.scrollView.scrollTo({y:t},0)},0)},t.prototype.componentWillUnmount=function(){this.manager.unsubscribe(this.onMonthReceived)},t.prototype.onMonthReceived=function(e,t){this.state.states.some(function(a){return a.month===e&&a.year===t})&&this.forceUpdate()},t.prototype.setScrollView=function(e){this.scrollView=e},t.prototype.scrollChanged=function(e){var t=e.nativeEvent.contentOffset.y,a=0;t!==this.lastValue&&(a=t-this.lastValue>0?-1:1),this.lastValue=t;var n=this.state,i=n.states,r=n.minDate,s=n.maxDate,o=i[0],l=i[i.length-1];if(-1===a){for(;t-o.translateY-o.height>0&&(0,f.default)(new Date(l.year,l.month+1,0)).isBefore(s);){var h=(0,f.default)(l.date).add(1,"months");o.date=h,o.month=h.month()+1,o.year=h.year(),o.height=(0,b.getMonthViewHeight)(o.month,o.year),o.translateY=l.translateY+l.height,i.shift(),i.push(o),o=i[0],l=i[i.length-1]}this.setState({states:i,height:this.nextHeight(o.date,o.translateY+o.height)})}if(1===a){for(;-t+o.translateY>-200&&(0,f.default)(o.date).isAfter(r,"month");){var u=i.reduce(function(e,t){return e+t.height},0),d=l.height,c=(0,f.default)(o.date).add(-1,"months");l.date=c,l.month=c.month()+1,l.year=c.year(),l.height=(0,b.getMonthViewHeight)(l.month,l.year),l.translateY-=u-d+l.height,i.pop(),i.unshift(l),o=i[0],l=i[i.length-1]}this.setState({states:i})}},t.prototype.nextHeight=function(e,t){var a=this.state.maxDate;return(0,b.getMonthId)(e)<(0,b.getMonthId)(a)-1?t+H:(null===this.maxHeight&&(this.maxHeight=t),this.maxHeight)},t.prototype.render=function(){var e=this,t=this.props.delayRendering,a=this.state.states;return o.default.createElement(l.ScrollView,{ref:this.setScrollView,style:V.container,onScroll:this.scrollChanged,scrollEventThrottle:16,showsVerticalScrollIndicator:!1},babelHelpers.jsx(l.View,{style:{height:this.state.height}}),t?[]:a.map(function(t){var a=t.id,n=t.height,i=t.translateY,r=t.month,s=t.year,o=e.manager.get(r,s);return babelHelpers.jsx(l.View,{style:[V.box,{height:n,transform:[{translateY:i}]}]},a,e.props.children(r,s,o))}))},t}(s.Component);x.defaultProps=v,x.propTypes=y;var V=l.StyleSheet.create({container:{flex:1},box:{position:"absolute",top:0,left:0,right:0}});n.default=(0,u.default)(x)},1379);