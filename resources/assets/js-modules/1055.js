__d(function(e,t,s,l){Object.defineProperty(l,"__esModule",{value:!0});var r=t(412),a=babelHelpers.interopRequireDefault(r),i=t(271),o=babelHelpers.interopRequireDefault(i),n=t(44),p=t(379),u=babelHelpers.interopRequireDefault(p),d=t(743),c=t(840),h=t(758),f=babelHelpers.interopRequireDefault(h),b=t(841),O=babelHelpers.interopRequireDefault(b),H=t(1035),S=babelHelpers.interopRequireDefault(H),g=t(1051),v=babelHelpers.interopRequireDefault(g),B=t(422),x=babelHelpers.interopRequireDefault(B),R=t(1046),y=babelHelpers.interopRequireDefault(R),P=(0,d.forbidExtraProps)(babelHelpers.extends({},S.default.propTypes,{isLoading:a.default.bool,options:a.default.arrayOf(a.default.shape({label:a.default.string,value:a.default.any})),selectedOption:a.default.shape({label:a.default.string,value:a.default.any}),includeSearch:a.default.bool,searchPlaceholder:a.default.string,light:a.default.bool})),C=babelHelpers.extends({},S.default.defaultProps,{isLoading:!1,includeSearch:!1,light:!1}),F=function(e){function t(s,l){babelHelpers.classCallCheck(this,t);var r=babelHelpers.possibleConstructorReturn(this,e.call(this,s,l));return r.state={selectedOption:s.selectedOption,filteredOptions:s.options,searchValue:null,searchBarFocused:!1},r.setSelectedOption=r.setSelectedOption.bind(r),r.handleNextPress=r.handleNextPress.bind(r),r.filterOptions=r.filterOptions.bind(r),r.setSelectionSheetRef=r.setSelectionSheetRef.bind(r),r.searchBarOnBlur=r.searchBarOnBlur.bind(r),r.searchBarOnFocus=r.searchBarOnFocus.bind(r),r}return babelHelpers.inherits(t,e),t.prototype.componentWillReceiveProps=function(e){e.selectedOption!==this.props.selectedOption&&this.setState({selectedOption:e.selectedOption}),this.filterOptions(this.state.searchValue,e.options)},t.prototype.searchBarOnBlur=function(){this.setState({searchBarFocused:!1})},t.prototype.searchBarOnFocus=function(){var e=this;this.setState({searchBarFocused:!0},function(){e.selectionSheet.scrollToChildrenContainer()})},t.prototype.setSelectedOption=function(e){var t=this.props.options,s=t&&t.find(function(t){return t.value===e});this.setState({selectedOption:s})},t.prototype.handleNextPress=function(){var e=this.props.onNextPress,t=this.state.selectedOption;e&&e(t)},t.prototype.filterOptions=function(e,t){var s=e&&e.toLowerCase(),l=t||this.props.options;s&&l&&(l=l.filter(function(e){return e.label&&e.label.toLowerCase().includes(s)})),this.setState({searchValue:s,filteredOptions:l})},t.prototype.setSelectionSheetRef=function(e){this.selectionSheet=e},t.prototype.render=function(){var e=this.props,t=e.isLoading,s=e.includeSearch,l=e.searchPlaceholder,r=e.light,a=this.state,i=a.filteredOptions,p=a.selectedOption;return o.default.createElement(S.default,babelHelpers.extends({},(0,f.default)(this.props,S.default),{onNextPress:this.handleNextPress,ref:this.setSelectionSheetRef}),s&&babelHelpers.jsx(n.View,{style:w.row},void 0,babelHelpers.jsx(v.default,{label:u.default.phrase("SEARCH",null,"Label for a search text field"),placeholder:l,insetContent:!1,onChangeText:this.filterOptions,onFocus:this.searchBarOnFocus,onBlur:this.searchBarOnBlur,dark:r})),i&&babelHelpers.jsx(n.View,{style:[w.searchUnfocused,this.state.searchBarFocused&&s&&w.searchFocused]},void 0,babelHelpers.jsx(y.default,{value:p&&p.value,onChange:this.setSelectedOption,options:i,light:r})),t&&!i&&babelHelpers.jsx(n.View,{style:w.loadingRow},void 0,babelHelpers.jsx(O.default,{light:!r})))},t}(i.Component);l.default=F;var w=x.default.create(function(e){var t=e.size;return{row:{paddingVertical:t.vertical.medium},loadingRow:{paddingTop:t.vertical.small},searchUnfocused:{paddingBottom:0},searchFocused:{paddingBottom:(0,c.getWindowHeight)()}}});F.defaultProps=C,F.propTypes=P},1055);