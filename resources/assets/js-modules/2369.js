__d(function(t,i,r,s){"use strict";function n(t){if(isNaN(t))return NaN;var i=t;return t>0?i=1:t<0&&(i=-1),i}Object.defineProperty(s,"__esModule",{value:!0});var h=i(2370),e=babelHelpers.interopRequireDefault(h),a=i(2371),m=.03,o=Math.log(.78)/Math.log(.9),l=[],u=[];!function(){for(var t=0,i=0,r=0;r<100;r++){for(var s=r/100,n=1,h=void 0,e=void 0,a=void 0;;){if(h=t+(n-t)/2,a=3*h*(1-h),e=a*(.175*(1-h)+.35*h)+h*h*h,Math.abs(e-s)<1e-5)break;e>s?n=h:t=h}l[r]=a*(.5*(1-h)+h)+h*h*h;for(var m=1,o=void 0,c=void 0;;){if(o=i+(m-i)/2,a=3*o*(1-o),c=a*(.5*(1-o)+o)+o*o*o,Math.abs(c-s)<1e-5)break;c>s?m=o:i=o}u[r]=a*(.175*(1-o)+.35*o)+o*o*o}l[100]=u[100]=1}();var c=function(){function t(i,r){babelHelpers.classCallCheck(this,t),this.mCurrX=0,this.mCurrY=0,this.mFinished=!0,this.mInterpolator=e.default,this.mPpi=160,this.mDeceleration=this.computeDeceleration(m),this.mFlywheel=i,this.mPhysicalCoeff=this.computeDeceleration(.84),this.mFlingFriction=m,this.onScrollCallback=r}return t.prototype.computeDeceleration=function(t){return 9.80665*39.37*this.mPpi*t},t.prototype.isFinished=function(){return this.mFinished},t.prototype.forceFinished=function(t){this.mFinished=t},t.prototype.getCurrX=function(){return this.mCurrX},t.prototype.getCurrY=function(){return this.mCurrY},t.prototype.getCurrVelocity=function(){return 1===this.mMode?this.mCurrVelocity:this.mVelocity-this.mDeceleration*this.timePassed()/2e3},t.prototype.computeScrollOffset=function(){if(this.mFinished)return this.onScrollCallback&&this.onScrollCallback(0,0,this),!1;var t=(0,a.currentAnimationTimeMillis)()-this.mStartTime;if(t<this.mDuration)switch(this.mMode){case 0:var i=this.mInterpolator.getInterpolation(t*this.mDurationReciprocal);this.mCurrX=this.mStartX+Math.round(i*this.mDeltaX),this.mCurrY=this.mStartY+Math.round(i*this.mDeltaY);break;case 1:var r=t/this.mDuration,s=parseInt(100*r),n=1,h=0;if(s<100){var e=s/100,m=(s+1)/100,o=l[s];h=(l[s+1]-o)/(m-e),n=o+(r-e)*h}this.mCurrVelocity=h*this.mDistance/this.mDuration*1e3,this.mCurrX=this.mStartX+Math.round(n*(this.mFinalX-this.mStartX)),this.mCurrY=this.mStartY+Math.round(n*(this.mFinalY-this.mStartY)),this.mCurrY=Math.min(this.mCurrY,this.mMaxY),this.mCurrY=Math.max(this.mCurrY,this.mMinY),this.mCurrX==this.mFinalX&&this.mCurrY==this.mFinalY&&(this.mFinished=!0)}else this.mCurrX=this.mFinalX,this.mCurrY=this.mFinalY,this.mFinished=!0;var u=this.mCurrX-this.mLastX,c=this.mCurrY-this.mLastY;return this.mLastX=this.mCurrX,this.mLastY=this.mCurrY,this.onScrollCallback&&this.onScrollCallback(u,c,this),0!==u||0!==c||!this.mFinished},t.prototype.startScroll=function(t){function i(i,r,s,n){return t.apply(this,arguments)}return i.toString=function(){return t.toString()},i}(function(t,i,r,s){startScroll(t,i,r,s,250)}),t.prototype.startScroll=function(t,i,r,s,n){this.mMode=0,this.mFinished=!1,this.mDuration=n,this.mStartTime=(0,a.currentAnimationTimeMillis)(),this.mStartX=t,this.mStartY=i,this.mFinalX=t+r,this.mFinalY=i+s,this.mDeltaX=r,this.mDeltaY=s,this.mDurationReciprocal=1/this.mDuration,this.mLastX=this.mStartX,this.mLastY=this.mStartY,this.performAnimation()},t.prototype.fling=function(t,i,r,s,h,e,m,o){if(this.mFlywheel&&!this.mFinished){var l=this.getCurrVelocity(),u=this.mFinalX-this.mStartX,c=this.mFinalY-this.mStartY,p=Math.hypot(u,c),f=u/p,F=c/p,Y=f*l,X=F*l;n(r)===n(Y)&&n(s)===n(X)&&(r+=Y,s+=X)}this.mMode=1,this.mFinished=!1;var d=Math.hypot(r,s);this.mVelocity=d,this.mDuration=this.getSplineFlingDuration(d),this.mStartTime=(0,a.currentAnimationTimeMillis)(),this.mStartX=t,this.mStartY=i;var M=0==d?1:r/d,S=0==d?1:s/d,C=this.getSplineFlingDistance(d);this.mDistance=C*n(d),this.mMinX=h,this.mMaxX=e,this.mMinY=m,this.mMaxY=o,this.mFinalX=t+Math.round(C*M),this.mFinalX=Math.min(this.mFinalX,this.mMaxX),this.mFinalX=Math.max(this.mFinalX,this.mMinX),this.mFinalY=i+Math.round(C*S),this.mFinalY=Math.min(this.mFinalY,this.mMaxY),this.mFinalY=Math.max(this.mFinalY,this.mMinY),this.mLastX=this.mStartX,this.mLastY=this.mStartY,this.performAnimation()},t.prototype.getSplineDeceleration=function(t){return Math.log(.35*Math.abs(t)/(this.mFlingFriction*this.mPhysicalCoeff))},t.prototype.getSplineFlingDuration=function(t){var i=this.getSplineDeceleration(t),r=o-1;return 1e3*Math.exp(i/r)},t.prototype.getSplineFlingDistance=function(t){var i=this.getSplineDeceleration(t),r=o-1;return this.mFlingFriction*this.mPhysicalCoeff*Math.exp(o/r*i)},t.prototype.performAnimation=function(){this.computeScrollOffset()&&requestAnimationFrame(this.performAnimation.bind(this))},t.prototype.abortAnimation=function(){this.mCurrX=this.mFinalX,this.mCurrY=this.mFinalY,this.mFinished=!0},t.prototype.extendDuration=function(t){var i=timePassed();this.mDuration=i+t,this.mDurationReciprocal=1/this.mDuration,this.mFinished=!1},t.prototype.timePassed=function(){return(0,a.currentAnimationTimeMillis)()-this.mStartTime},t.prototype.setFinalX=function(t){this.mFinalX=t,this.mDeltaX=this.mFinalX-this.mStartX,this.mFinished=!1},t.prototype.setFinalY=function(t){this.mFinalY=t,this.mDeltaY=this.mFinalY-this.mStartY,this.mFinished=!1},t.prototype.debugInfo=function(){return"cur="+this.mCurrX+" "+this.mCurrY+", final="+this.mFinalX+" "+this.mFinalY},t}();s.default=c},2369);