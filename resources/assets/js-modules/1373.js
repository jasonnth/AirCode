__d(function(e,t,a,l){function r(e){var t=e.startDate,a=e.endDate,l=e.format,r=(0,d.default)(t,l),n=(0,d.default)(a,l);return{startDateMoment:r,endDateMoment:n,startDateMs:r.toDate().getTime(),endDateMs:n.toDate().getTime()}}Object.defineProperty(l,"__esModule",{value:!0});var n=t(412),s=babelHelpers.interopRequireDefault(n),i=t(271),u=(babelHelpers.interopRequireDefault(i),t(44)),o=t(562),d=babelHelpers.interopRequireDefault(o),f=t(422),D=babelHelpers.interopRequireDefault(f),b=t(1374),p=babelHelpers.interopRequireDefault(b),c=t(1376),S=babelHelpers.interopRequireDefault(c),v=t(1377),y=babelHelpers.interopRequireDefault(v),m=t(1379),h=babelHelpers.interopRequireDefault(m),E=t(1381),R=babelHelpers.interopRequireDefault(E),T=t(1378),H={format:s.default.string,minDate:s.default.string,maxDate:s.default.string,minSelectableDate:R.default,startDate:R.default,endDate:R.default,onDateSelected:s.default.func,fetchStates:s.default.func.isRequired,delayRendering:s.default.bool},M={format:"YYYY-MM-DD",onDateSelected:function(){},delayRendering:!1},g=function(e){function t(a,l){babelHelpers.classCallCheck(this,t);var n=babelHelpers.possibleConstructorReturn(this,e.call(this,a,l));return n.state=babelHelpers.extends({},r(a),{today:(0,d.default)().format("YYYY-MM-DD")}),n.onDayPress=n.onDayPress.bind(n),n.formatDayStates=n.formatDayStates.bind(n),n}return babelHelpers.inherits(t,e),t.prototype.componentWillReceiveProps=function(e){this.props.startDate===e.startDate&&this.props.endDate===e.endDate||this.setState(r(e))},t.prototype.onDayPress=function(e,t){var a=this.props,l=a.startDate,r=a.endDate,n=a.onDateSelected,s=a.format,i=this.state.startDateMoment,u=(0,d.default)(e,s);if(l&&r)return void n(e,null);if(!l)return void n(e,null);if(u.isBefore(i))return void n(e,null);if(!u.isSame(i)){t.every(function(t){return t.date<l||t.date>=e||t.available})&&n(l,e)}},t.prototype.formatDayStates=function(e,t,a){var l=this,r=this.props,n=r.startDate,s=r.endDate,i=r.minSelectableDate,u=this.state,o=u.startDateMs,f=u.endDateMs,D=new Date(t,e-1,1),b=(0,T.getDaysInMonth)(e,t),p=(0,d.default)(D).weekday(),c=D.getTime(),v=void 0;v=null==a||0===a.length?(0,T.defaultDayStates)(e,t):a;var y=(0,T.truncateTime)(new Date).getTime(),m=function(e){return c+864e5*e<=y},h=function(e){var t=c+864e5*e;return n&&s?o-36e5<=t&&t<=f+36e5:!!n&&Math.abs(t-o)<=36e5},E=function(e,t){return t?n!==e||s?n===e?S.default.SELECTED_STATES.ROUND_LEFT:s===e?S.default.SELECTED_STATES.ROUND_RIGHT:S.default.SELECTED_STATES.SQUARE:S.default.SELECTED_STATES.ROUND:null};return v.map(function(e,t){null!=n&&null==s&&null==l.firstUnavailableDate&&e.date>n&&!e.available&&(l.firstUnavailableDate=e.date);var a=t-p;if(a>=0&&a<b){var r=h(a),u=null!=l.firstUnavailableDate&&e.date>l.firstUnavailableDate,o=u||!!i&&i>e.date||!i&&m(a+1)||!e.available&&e.date!==l.firstUnavailableDate,d=e.date!==l.firstUnavailableDate&&e.date!==s&&(u||!e.available);return babelHelpers.extends({day:a+1,selected:r,selectedState:E(e.date,r),disabled:o,unavailable:d,inMonth:!0},e)}var f=!1;return f=t<p?!!s&&h(-1)&&h(0):!!s&&h(b)&&h(b-1),babelHelpers.extends({selected:f,selectedState:f?S.default.SELECTED_STATES.SQUARE:null,inMonth:!1},e)})},t.prototype.render=function(){var e=this,t=this.props,a=t.minDate,l=t.maxDate,r=t.startDate,n=t.fetchStates,s=t.delayRendering,i=this.state.today;return this.firstUnavailableDate=null,babelHelpers.jsx(u.View,{style:x.calendar},void 0,babelHelpers.jsx(y.default,{}),babelHelpers.jsx(h.default,{minDate:a,maxDate:l,fetchStates:n,anchor:r,delayRendering:s},void 0,function(t,a,l){return babelHelpers.jsx(p.default,{today:i,dayStates:e.formatDayStates(t,a,l),month:t,year:a,onDayPress:e.onDayPress,delayRendering:s,loading:null==l})}))},t}(i.Component);l.default=g,g.defaultProps=M,g.propTypes=H;var x=D.default.create(function(){return{calendar:{flex:1},scrollview:{flex:1}}})},1373);