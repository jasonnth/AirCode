__d(function(e,t,n,i){Object.defineProperty(i,"__esModule",{value:!0});var s=t(412),a=babelHelpers.interopRequireDefault(s),l=t(271),r=(babelHelpers.interopRequireDefault(l),t(654)),o=t(790),u=t(410),p=babelHelpers.interopRequireDefault(u),d=t(379),b=babelHelpers.interopRequireDefault(d),c=t(2172),f=babelHelpers.interopRequireDefault(c),h=t(2164),g=babelHelpers.interopRequireDefault(h),m=t(2168),R=t(2165),y={submitFlagContent:a.default.func.isRequired,isSubmittingFlagContent:a.default.bool.isRequired,flaggableType:a.default.string.isRequired,flaggableId:a.default.number.isRequired,userFlagId:a.default.number,details:a.default.arrayOf(g.default).isRequired,selectedReasonIndex:a.default.number.isRequired,resetData:a.default.func.isRequired},C=function(e){function t(n){babelHelpers.classCallCheck(this,t);var i=babelHelpers.possibleConstructorReturn(this,e.call(this,n));return i.state={textInput:"",isEditing:!1},i.selectedDetail=i.props.details[i.props.selectedReasonIndex],i.onChangeText=i.onChangeText.bind(i),i.onFocus=i.onFocus.bind(i),i.onBlur=i.onBlur.bind(i),i.submit=i.submit.bind(i),i}return babelHelpers.inherits(t,e),t.prototype.componentWillUnmount=function(){this.props.resetData()},t.prototype.submit=function(){var e=this;this.props.isSubmittingFlagContent||this.props.submitFlagContent(this.props.userFlagId,this.props.flaggableType,this.props.flaggableId,this.selectedDetail.reason_name,this.state.textInput).then(function(t){t.success&&p.default.dismiss({resultCode:p.default.RESULT_OK,flaggableId:e.props.flaggableId,hasBeenReported:!0})})},t.prototype.onChangeText=function(e){this.setState({textInput:e})},t.prototype.onFocus=function(){this.setState({isEditing:!0})},t.prototype.onBlur=function(){this.setState({isEditing:!1})},t.prototype.render=function(){return babelHelpers.jsx(f.default,{title:this.selectedDetail.reason_name_localized,subtitle:this.selectedDetail.reason_detail_localized,onChangeText:this.onChangeText,onFocus:this.onFocus,onBlur:this.onBlur,value:this.state.textInput,onPrimaryPress:this.submit,primaryButtonLabel:this.state.isEditing?"":b.default.phrase("Report",null,"button text telling user that they are reporting bad content"),placeholder:b.default.phrase("Please explain why.",null,"placeholder text for inputting report feedback"),primaryButtonDisabled:!this.state.textInput,allowPrimaryPressWhileEditing:!1,primaryButtonIcon:this.state.isEditing?"chevron-right":null,autoFocus:!0})},t}(l.PureComponent);C.propTypes=y,i.default=(0,o.connect)(function(e){return(0,m.flagContentSelector)(e)},function(e){return(0,r.bindActionCreators)({submitFlagContent:R.submitFlagContent,resetData:R.resetData},e)})(C)},2171);