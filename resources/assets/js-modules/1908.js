__d(function(e,t,r,i){Object.defineProperty(i,"__esModule",{value:!0});var a=t(790),n=t(412),o=babelHelpers.interopRequireDefault(n),s=t(271),l=(babelHelpers.interopRequireDefault(s),t(44)),d=t(759),u=babelHelpers.interopRequireDefault(d),p=t(379),c=babelHelpers.interopRequireDefault(p),h=t(1023),b=t(410),f=babelHelpers.interopRequireDefault(b),v=t(1909),g=babelHelpers.interopRequireDefault(v),y=t(840),m=t(1865),x=babelHelpers.interopRequireWildcard(m),C=t(1870),R=t(376),H=babelHelpers.interopRequireDefault(R),S=t(1910),q=babelHelpers.interopRequireDefault(S),I=t(1875),N={categories:o.default.array.isRequired,recipientName:o.default.string.isRequired,selectedCategoryIndex:o.default.number.isRequired,videoId:o.default.number.isRequired,videoThumbnail:o.default.string.isRequired,videoUrl:o.default.string.isRequired,shouldAnimateOverlays:o.default.bool},D={shouldAnimateOverlays:!1},T=function(e){function t(r){babelHelpers.classCallCheck(this,t);var i=babelHelpers.possibleConstructorReturn(this,e.call(this,r)),a=i.props,n=a.categories,o=a.selectedCategoryIndex;return i.state={isVideoOnScreen:!1,currentIndex:0,category:n[o]},i.navButtonPressed=i.navButtonPressed.bind(i),i}return babelHelpers.inherits(t,e),t.prototype.navButtonPressed=function(){var e=this.props,t=e.recipientName,r=e.selectedCategoryIndex,i=e.videoId;if(this.state.category&&this.state.category.overlays){var a=this.state.category.overlays[this.state.currentIndex].id;(0,I.logGiftingFlowClickNextGiftCardDisplayEvent)(String(a),String(i)),f.default.push(x.GIFTCARD_DETAILS,{image:this.props.videoThumbnail,overlayId:a,recipientName:t,selectedCategoryIndex:r,videoId:i})}},t.prototype.render=function(){var e=this,t=h.ThemedStyleSheet.theme.color,r=this.props,i=r.categories,a=r.selectedCategoryIndex,n=null!=a&&a>=0?i[a].overlays:[],o=n.map(function(e){return{uri:e.image_url,id:e.id}}),s=(0,y.getWindowHeight)(),d=(0,y.getWindowWidth)();return babelHelpers.jsx(l.View,{style:B.container},void 0,babelHelpers.jsx(f.default.Screen,{barType:f.default.Screen.BAR_TYPE.OVERLAY,onAppear:function(){return e.setState({isVideoOnScreen:!0})},onDisappear:function(){return e.setState({isVideoOnScreen:!1})}}),!!this.props.recipientName&&!!H.default.user().firstName&&o&&babelHelpers.jsx(q.default,{shouldAnimateOverlays:this.props.shouldAnimateOverlays,overlayUrls:o,videoUrl:this.props.videoUrl,topText:c.default.phrase("%{recipientName},",{recipientName:this.props.recipientName.toUpperCase()},"displayed phrase to indicate that this gift card is for %{recipientName}"),bottomText:c.default.phrase("- %{senderName}",{senderName:H.default.user().firstName.toUpperCase()},"displayed phrase to indicate that this gift card is sent from %{senderName}"),height:s,width:d,paused:!this.state.isVideoOnScreen,onIndexChange:function(t){return e.setState({currentIndex:t})}}),babelHelpers.jsx(l.View,{style:B.navButtonContainer},void 0,babelHelpers.jsx(g.default,{color:t.white,style:B.navButton,onPress:this.navButtonPressed,buttonText:c.default.phrase("Next",null,"Button text to proceed to the next page.")})))},t}(s.PureComponent);T.propTypes=N,T.defaultProps=D;var B=h.ThemedStyleSheet.create(function(e){var t=e.color,r=e.size;return{container:{flex:1,backgroundColor:t.clear},overlays:{opacity:.3,top:0,left:0,position:"absolute",width:375,height:100},navButtonContainer:{position:"absolute",bottom:0,right:0,padding:r.horizontal.medium,backgroundColor:t.clear},navButton:{backgroundColor:t.clear}}});i.default=(0,a.connect)(function(e){return(0,u.default)((0,C.creationSelector)(e),["categories"])})(T)},1908);