__d(function(e,t,a,r){function n(e,t,a){return e.map(function(e,r){var n=e[t].amount;return a&&n<0&&(n=0),{x:r+1,y:n}})}function i(e,t){var a=e.sort(function(e,t){return e.year<t.year||e.year===t.year&&e.month<t.month?-1:1}),r=n(a,R.PAID_OUT,t),i=n(a,R.PENDING,t),s=a.map(function(e){return(0,f.default)([e.year,e.month-1]).format("MMM")});return s.unshift(null),{xAxisLabels:s,data:[r,i]}}Object.defineProperty(r,"__esModule",{value:!0});var s,o=t(412),u=babelHelpers.interopRequireDefault(o),l=t(271),d=babelHelpers.interopRequireDefault(l),p=t(44),h=t(562),f=babelHelpers.interopRequireDefault(h),g=t(379),b=babelHelpers.interopRequireDefault(g),c=t(377),P=babelHelpers.interopRequireDefault(c),y=t(422),m=babelHelpers.interopRequireDefault(y),x=t(1068),v=babelHelpers.interopRequireDefault(x),C=t(1069),H=babelHelpers.interopRequireDefault(C),R={PAID_OUT:"paidOutConverted",PENDING:"pendingConverted"},w=function(){return[b.default.phrase("Paid out",null,"The amount paid out to the host"),b.default.phrase("Expected",null,"The amount that will be but has not paid to the host")]},D=u.default.shape({amount:u.default.number.isRequired,currency:u.default.string.isRequired}),q=u.default.arrayOf(u.default.shape((s={year:u.default.number.isRequired,month:u.default.number.isRequired},babelHelpers.defineProperty(s,R.PAID_OUT,D),babelHelpers.defineProperty(s,R.PENDING,D),s))),N={earningsData:q.isRequired,yAxisCurrency:u.default.string.isRequired,filterNegativeValues:u.default.bool,onOffsetChange:u.default.func,onFocusChange:u.default.func,extraPaddingLeft:u.default.number,extraPaddingRight:u.default.number,onPrevPageButtonPress:u.default.func,onNextPageButtonPress:u.default.func,onFocusChangePress:u.default.func},T={filterNegativeValues:!0},A=function(e){function t(a){babelHelpers.classCallCheck(this,t);var r=babelHelpers.possibleConstructorReturn(this,e.call(this,a));return r.state={width:null},r.handleLayout=r.handleLayout.bind(r),r.yAxisTickFormat=r.yAxisTickFormat.bind(r),r}return babelHelpers.inherits(t,e),t.prototype.getPerPage=function(){return this.isCompact()?5:10},t.prototype.isCompact=function(){return this.state.width<640},t.prototype.yAxisTickFormat=function(e){return P.default.priceString(e,this.props.yAxisCurrency)},t.prototype.handleLayout=function(e){var t=e.nativeEvent.layout.width;this.state.width!==t&&this.setState({width:t})},t.prototype.render=function(){var e=this.props,t=e.earningsData,a=e.filterNegativeValues,r=e.extraPaddingLeft,n=e.extraPaddingRight,s=i(t,a);return babelHelpers.jsx(p.View,{style:F.container,onLayout:this.handleLayout},void 0,"number"==typeof this.state.width&&this.state.width>0&&babelHelpers.jsx(p.View,{},void 0,babelHelpers.jsx(p.View,{style:{paddingLeft:r,paddingRight:n}},void 0,babelHelpers.jsx(p.View,{style:F.legendContainer},void 0,babelHelpers.jsx(v.default,{legends:w()}))),d.default.createElement(H.default,babelHelpers.extends({},s,{width:this.state.width,extraPaddingLeft:r,extraPaddingRight:n,perPage:this.getPerPage(),height:291,isCompact:this.isCompact(),onFocusChange:this.props.onFocusChange,onOffsetChange:this.props.onOffsetChange,yAxisTickFormat:this.yAxisTickFormat,onPrevPageButtonPress:this.props.onPrevPageButtonPress,onNextPageButtonPress:this.props.onNextPageButtonPress,onFocusChangePress:this.props.onFocusChangePress,emptyPageMessage:b.default.phrase("No earnings for\nthese months",null,"The message shown on the earnings graph when the whole page has no data to show")}))))},t}(l.Component);r.default=A,A.propTypes=N,A.defaultProps=T;var F=m.default.create(function(e){return{container:{flex:1},legendContainer:{marginBottom:e.size.vertical.medium}}})},1067);