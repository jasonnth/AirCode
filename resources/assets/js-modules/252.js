__d(function(e,r,t,n){"use strict";function i(){return T++}var o=r(49),s=r(25),a=r(98),u=r(97),c=r(106),d=r(60),h=r(119),l=r(82),p=r(120),f=r(113),g=r(53),b=r(116),v=r(122),m=r(163),y=r(213),w=r(253),C=d.PropTypes,I=s.ImageLoader,T=1,R=b(h.UIView,{src:!0,loadingIndicatorSrc:!0,resizeMethod:!0,resizeMode:!0,progressiveRenderingEnabled:!0,fadeDuration:!0,shouldNotifyLoadEvents:!0}),V=new y(Object.keys(c)),E=new y(Object.keys(u).filter(function(e){return!V.has(e)})),x=d.createClass({displayName:"Image",propTypes:babelHelpers.extends({},f.propTypes,{style:p(u),source:C.oneOfType([C.shape({uri:C.string,headers:C.objectOf(C.string)}),C.number,C.arrayOf(C.shape({uri:C.string,headers:C.objectOf(C.string),width:C.number,height:C.number}))]),loadingIndicatorSource:C.oneOfType([C.shape({uri:C.string}),C.number]),progressiveRenderingEnabled:C.bool,fadeDuration:C.number,onLoadStart:C.func,onError:C.func,onLoad:C.func,onLoadEnd:C.func,testID:C.string,resizeMethod:C.oneOf(["auto","resize","scale"]),resizeMode:C.oneOf(["cover","contain","stretch","center"])}),statics:{resizeMode:a,getSize:function(e,r,t){return I.getSize(e).then(function(e){r(e.width,e.height)}).catch(t||function(){})},prefetch:function(e,r){var t=i();return r&&r(t),I.prefetchImage(e,t)},abortPrefetch:function(e){I.abortRequest(e)},queryCache:function(e){return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(I.queryCache(e));case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},null,this)},resolveAssetSource:m},mixins:[o],viewConfig:{uiViewClassName:"RCTView",validAttributes:h.RCTView},_updateViewConfig:function(e){e.children?this.viewConfig={uiViewClassName:"RCTView",validAttributes:h.RCTView}:this.viewConfig={uiViewClassName:"RCTImageView",validAttributes:R}},componentWillMount:function(){this._updateViewConfig(this.props)},componentWillReceiveProps:function(e){this._updateViewConfig(e)},contextTypes:{isInAParentText:d.PropTypes.bool},render:function(){var e=m(this.props.source),r=m(this.props.loadingIndicatorSource);if(e&&e.uri,this.props.src,e&&(e.uri||Array.isArray(e))){var t=void 0,n=void 0;if(e.uri){var i=e.width,o=e.height;e.headers;t=g([{width:i,height:o},L.base,this.props.style]),n=[{uri:e.uri}]}else t=g([L.base,this.props.style]),n=e;var s=this.props,a=s.onLoadStart,u=s.onLoad,c=s.onLoadEnd,h=s.onError,l=b(this.props,{style:t,shouldNotifyLoadEvents:!!(a||u||c||h),src:n,headers:e.headers,loadingIndicatorSrc:r?r.uri:null});if(l.children){var p=w(t,function(e,r){return!E.has(r)}),v=w(t,function(e,r){return E.has(r)}),y=b(l,{style:[v,L.absoluteImage],children:void 0});return babelHelpers.jsx(f,{style:p},void 0,d.createElement(S,y),this.props.children)}return this.context.isInAParentText?d.createElement(z,l):d.createElement(S,l)}return null}}),L=l.create({base:{overflow:"hidden"},absoluteImage:{left:0,right:0,top:0,bottom:0,position:"absolute"}}),O={nativeOnly:{src:!0,headers:!0,loadingIndicatorSrc:!0,shouldNotifyLoadEvents:!0}},S=v("RCTImageView",x,O),z=v("RCTTextInlineImage",x,O);t.exports=x},252);