__d(function(e,a,t,l){function r(e){switch(e){case 3:case 4:case 5:return v.default.phrase("Rate your stay in each of these categories",null,"Title on category screen for 3-5 star trips");default:return v.default.phrase("Sorry to hear that. Can you rate these parts of your stay?",null,"Title on category screen for 1-2 star trips")}}function n(e){switch(e){case"accuracy":return v.default.phrase("Accuracy",null,"Label for accuracy category rating");case"checkin":return v.default.phrase("Check-In",null,"Label for check-in category rating");case"cleanliness":return v.default.phrase("Cleanliness",null,"Label for cleanliness category rating");case"communication":return v.default.phrase("Communication",null,"Label for communication rating");case"location":return v.default.phrase("Location",null,"Label for location rating");case"value":return v.default.phrase("Value",null,"Label for value rating");default:return" "}}Object.defineProperty(l,"__esModule",{value:!0});var i=a(412),s=babelHelpers.interopRequireDefault(i),o=a(271),u=(babelHelpers.interopRequireDefault(o),a(44)),c=a(790),p=a(654),g=a(1527),b=babelHelpers.interopRequireDefault(g),f=a(759),d=babelHelpers.interopRequireDefault(f),h=a(379),v=babelHelpers.interopRequireDefault(h),y=a(779),R=babelHelpers.interopRequireDefault(y),H=a(1404),m=babelHelpers.interopRequireDefault(H),w=a(778),C=babelHelpers.interopRequireDefault(w),x=a(1415),T=babelHelpers.interopRequireDefault(x),D=a(1406),q=babelHelpers.interopRequireDefault(D),L=a(422),j=babelHelpers.interopRequireDefault(L),k=a(832),A=babelHelpers.interopRequireDefault(k),S=a(2175),I=a(2191),P=a(2178),B=a(1923),V=babelHelpers.interopRequireWildcard(B),_=a(2192),E=babelHelpers.interopRequireWildcard(_),W=a(772),M=babelHelpers.interopRequireDefault(W),O={categoryTags:s.default.shape({accuracy:I.TagList,cleanliness:I.TagList,checkin:I.TagList,communication:I.TagList}).isRequired,review:I.ReviewShape.isRequired,showAllCategories:s.default.bool,changeReview:s.default.func.isRequired,saveReview:s.default.func.isRequired},z=function(e){function a(t){babelHelpers.classCallCheck(this,a);var l=babelHelpers.possibleConstructorReturn(this,e.call(this,t));return l.onTagsChange=l.onTagsChange.bind(l),l.setScrollScreen=l.setScrollScreen.bind(l),l}return babelHelpers.inherits(a,e),a.prototype.onDetailsChange=function(e,a){this.props.changeReview(babelHelpers.defineProperty({},e,a))},a.prototype.onRatingChange=function(e,a){var t=this.props,l=t.changeReview,r=t.review;(0,P.logClick)(e,{value:a,previousValue:r[e]},r),u.LayoutAnimation.configureNext(u.LayoutAnimation.Presets.easeInEaseOut),l(babelHelpers.defineProperty({},e,a))},a.prototype.setScrollScreen=function(e){this.scrollScreen=e},a.prototype.onTagsChange=function(e){var a=this.props,t=a.changeReview,l=a.review;(0,P.logClick)("category_tags",(0,b.default)(e,l.selectedCategoryTags),l),t({selectedCategoryTags:e})},a.prototype.render=function(){var e=this,a=this.props,t=a.saveReview,l=a.categoryTags,i=a.review,s=a.showAllCategories,o=j.default.theme.color,c=s?N:K;return babelHelpers.jsx(M.default,{title:r(i.overallRating),subtitle:v.default.phrase("This is private between you and your host.",null,"Privacy note on category tags page of guest review flow."),footer:babelHelpers.jsx(A.default,{babu:!0,buttonText:v.default.phrase("Save",null,"Button text to save reviews"),onButtonPress:function(){t(),(0,P.logImpressionAndPushRoute)(V.PRIVATE_FEEDBACK,i)}})},void 0,babelHelpers.jsx(C.default,{},void 0,c.map(function(a){var t=G[a],r=i[t],s=l[a]||[],c=J[a],p=i[c],g=!!(r&&r<5);return babelHelpers.jsx(R.default,{},a,babelHelpers.jsx(u.Text,{style:F.title},void 0,n(a)),babelHelpers.jsx(u.View,{style:F.starsInput},void 0,babelHelpers.jsx(T.default,{onRatingChange:function(a){return e.onRatingChange(t,a)},rating:r})),g&&s.length>0&&babelHelpers.jsx(u.View,{},void 0,babelHelpers.jsx(u.Text,{style:F.tagsTitle},void 0,v.default.phrase("What were the main issues?",null,"In review flow, referring to the issues experienced during a trip")),babelHelpers.jsx(m.default,{onChange:e.onTagsChange,options:s,values:i.selectedCategoryTags})),g&&babelHelpers.jsx(q.default,{autoCapitalize:"sentences",clearButtonMode:"while-editing",onChangeText:function(a){return e.onDetailsChange(c,a)},placeholder:v.default.phrase("Add Details",null,"details text placeholder"),placeholderTextColor:o.textInput,style:F.textInput,defaultValue:p}))})))},a}(o.Component);z.propTypes=O;var F=j.default.create(function(e){var a=e.bp,t=e.font;return{title:babelHelpers.extends({},t.title3,{marginBottom:a}),starsInput:{marginBottom:2*a},tagsTitle:babelHelpers.extends({},t.regular,{marginBottom:a}),textInput:babelHelpers.extends({},t.regular,{flex:1,paddingVertical:5*a})}}),K=["cleanliness","accuracy","communication"],N=[].concat(K,["checkin","location","value"]),G={accuracy:"accuracyRating",checkin:"checkinRating",cleanliness:"cleanlinessRating",communication:"communicationRating",location:"locationRating",value:"valueRating"},J={accuracy:"accuracyDetails",checkin:"checkinDetails",cleanliness:"cleanlinessDetails",communication:"communicationDetails",location:"locationDetails",value:"valueDetails"};l.default=(0,c.connect)(function(e){return(0,d.default)((0,S.categoryTagsSelector)(e),["categoryTags","review","showAllCategories"])},function(e){return(0,p.bindActionCreators)({changeReview:E.changeReview,saveReview:E.saveReview},e)})(z)},2199);