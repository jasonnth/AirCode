__d(function(e,t,r,n){function i(e){return{type:p.CHANGE_REVIEW,payload:e}}function o(e,t){return{type:p.CHANGE_TAG,payload:{question:e,tag:t}}}function u(e){return{type:p.FETCH,promise:(0,v.getReview)(e).then(function(e){return{review:e}}),meta:{toast:d.FETCH_FAILED_TOAST,onFailure:function(e,t){return(0,w.logServerError)(babelHelpers.extends({},e,{action:"fetch"}),(0,b.rootSelector)(t()).review)}}}}function a(e,t,r){return function(n){n({type:p.INITIALIZED,payload:{showAllCategories:t,showTripReviewV2Questions:r}}),n(u(e))}}function l(){return function(e,t){var r=(0,b.rootSelector)(t()),n=r.isSaving,i=r.lastFetchedReview,o=r.questions,u=r.review;if(n)return null;var a=Object.keys(u).filter(function(e){return!(0,f.default)(u[e],i[e])}).reduce(function(e,t){return babelHelpers.extends({},e,babelHelpers.defineProperty({},t,u[t]))},{}),l=(0,w.buildBodyFromState)(a,o),c=l.categoryComments,s=l.review,y=l.selectedTags;return e({type:p.SAVE,promise:(0,v.updateCategoryResponses)(u.id,c,y).then(function(){return(0,v.updateReview)(u.id,s)}).then(function(e){return{review:e}}),meta:{toast:d.SAVE_FAILED_TOAST,onFailure:function(e){(0,w.logServerError)(babelHelpers.extends({},e,{action:"save"}),(0,b.rootSelector)(t()).review)}}})}}function c(){return function(e,t){(0,w.logOperation)("submit_review_click",(0,b.rootSelector)(t()).review),e(i({hasSubmitted:!0})),e(l())}}Object.defineProperty(n,"__esModule",{value:!0}),n.changeReview=i,n.changeTag=o,n.fetch=u,n.initialized=a,n.saveReview=l,n.submitReview=c;var s=t(1548),f=babelHelpers.interopRequireDefault(s),v=t(2193),p=t(2177),d=t(2194),w=t(2178),b=t(2175)},2192);