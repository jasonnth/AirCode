__d(function(e,t,r,i){Object.defineProperty(i,"__esModule",{value:!0});var o=t(271),l=babelHelpers.interopRequireDefault(o),n=t(44),s=t(834),a=t(379),u=babelHelpers.interopRequireDefault(a),p=t(410),d=babelHelpers.interopRequireDefault(p),c=t(1607),f=babelHelpers.interopRequireDefault(c),b=t(1640),_=babelHelpers.interopRequireDefault(b),h=t(840),w=t(1633),y=t(1642),m=t(1569),T=babelHelpers.interopRequireWildcard(m),v=t(1609),g={isPreview:!1,isSoldOut:!1,notWaitlisted:!0},C={tripTemplate:s.Types.object.isRequired,isPreview:s.Types.bool,isSoldOut:s.Types.bool,notWaitlisted:s.Types.bool},R=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,e.apply(this,arguments))}return babelHelpers.inherits(t,e),t.prototype.render=function(){var e=this.props,t=e.tripTemplate,r=e.isPreview,i=e.isSoldOut,o=e.notWaitlisted,l=t.id,s=t.currency,a=s.currency,p=s.currency_symbol_comes_after_currency,c=t.base_price,b=t.currently_viewing_count,m=t.is_social_good,g=t.review_count,C=t.product_type,R=t.show_currently_viewing_count,P=parseFloat(t.star_rating),D=C===w.PRODUCT_TYPE_EXPERIENCE,H=T.DATE_PICKER_CALENDAR,E=n.Platform.select({ios:function(){return d.default.push(H,{tripTemplateId:l})},android:function(){return d.default.present(H,{tripTemplateId:l})}}),I=u.default.phrase("Join waitlist",null,"Button text indicating a trip has sold out"),W=u.default.phrase("See dates",null,"Button to show all available dates for an experience"),q=u.default.phrase("per person",null,'per person (as in "$5 per person")'),S=u.default.phrase("%{smart_count} review |||| %{smart_count} reviews",{smart_count:g},"displays the number of reviews next to the star rating"),x=D?u.default.phrase("New experience",null,"Displayed instead of rating for trips without reviews"):u.default.phrase("New immersion",null,"Displayed instead of rating for trips without reviews"),A=(0,y.formatPriceWithCurrency)(c,a,p),O=A+(m?" "+f.default["social-good"]:""),B=""+q,k=P?S:x,N=(0,h.getWindowWidth)()>=375;return babelHelpers.jsx(_.default,{currentlyViewingCount:b,title:O,secondaryTitle:B,showCurrentlyViewingCount:R,subtitle:k,starRating:P,buttonText:i?I:W,buttonActive:!i||o,buttonMedium:N,onButtonPress:function(){r||(i?d.default.present(T.WAITLIST_DATES,{tripTemplateId:t.id,isSoldOut:!0}):((0,v.logBookingFlowClickBook)(c,t),E()))}})},t}(l.default.Component);i.default=R,R.propTypes=C,R.defaultProps=g,R.contentInset={top:0,bottom:80}},1639);