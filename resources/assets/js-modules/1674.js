__d(function(e,t,r,o){Object.defineProperty(o,"__esModule",{value:!0});var l=t(412),u=babelHelpers.interopRequireDefault(l),n=t(271),a=babelHelpers.interopRequireDefault(n),s=t(44),p=t(814),c=babelHelpers.interopRequireDefault(p),i=t(811),f=babelHelpers.interopRequireDefault(i),b=t(758),d=babelHelpers.interopRequireDefault(b),h=babelHelpers.extends({},s.Image.propTypes,{source:u.default.any,smallSource:c.default,largeSource:c.default.isRequired}),S=function(e){return"string"==typeof e?e:e&&e.uri},m=function(e){function t(r){babelHelpers.classCallCheck(this,t);var o=babelHelpers.possibleConstructorReturn(this,e.call(this,r));return o.mounted=!0,o.state={realSource:r.smallSource||r.largeSource},o}return babelHelpers.inherits(t,e),t.prototype.componentWillMount=function(){var e=this.props,t=e.smallSource,r=e.largeSource;t&&r!==t&&this.prefetchImageAndSetAsSource(r)},t.prototype.componentWillReceiveProps=function(e){e.largeSource!==this.props.largeSource&&e.largeSource!==e.smallSource&&this.prefetchImageAndSetAsSource(e.largeSource)},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.prefetchImageAndSetAsSource=function(e){var t=this,r=S(e);r&&(this.currentlyFetching=r,s.Image.prefetch(r).then(function(){t.mounted&&t.currentlyFetching===r&&t.setState({realSource:r})}))},t.prototype.render=function(){return a.default.createElement(s.Image,babelHelpers.extends({},(0,d.default)(this.props,s.Image),{fadeDuration:0,source:(0,f.default)(this.state.realSource)}))},t}(a.default.PureComponent);o.default=m,m.propTypes=h},1674);