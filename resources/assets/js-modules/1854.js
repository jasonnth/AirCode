__d(function(e,t,s,r){Object.defineProperty(r,"__esModule",{value:!0});var o=t(379),a=babelHelpers.interopRequireDefault(o),n=t(412),i=babelHelpers.interopRequireDefault(n),l=t(271),u=(babelHelpers.interopRequireDefault(l),t(790)),p=t(44),d=t(832),b=babelHelpers.interopRequireDefault(d),f=t(1032),R=babelHelpers.interopRequireDefault(f),c=t(1404),h=babelHelpers.interopRequireDefault(c),v=t(410),w=babelHelpers.interopRequireDefault(v),g=t(827),H=babelHelpers.interopRequireDefault(g),I=t(787),k=babelHelpers.interopRequireDefault(I),y=t(422),q=babelHelpers.interopRequireDefault(y),D=t(1352),F=babelHelpers.interopRequireDefault(D),G=t(789),P=babelHelpers.interopRequireDefault(G),x=t(1855),m=babelHelpers.interopRequireDefault(x),C=t(1856),j=babelHelpers.interopRequireDefault(C),A=t(1788),_=babelHelpers.interopRequireDefault(A),S=t(1797),E=t(1790),L=t(1803),T=t(1770),O=babelHelpers.interopRequireWildcard(T),M={loadFeedbackReasons:i.default.func.isRequired,isReviewReasonsLoading:i.default.bool.isRequired,reviewReasons:i.default.arrayOf(i.default.object),reportReasons:i.default.arrayOf(i.default.object),selectedGuestFeedback:m.default,selectedGuestProfileId:i.default.number.isRequired,selectedGuestProfile:j.default.isRequired,tripInstanceId:i.default.number,updateFeedbackForGuest:i.default.func.isRequired},z={},B=function(e,t){var s=t.selectedGuestProfileId,r=(0,L.feedbackSelector)(e).feedbackByGuestProfileId[s],o=(0,L.guestProfilesSelector)(e)[s],a=(0,L.feedbackSelector)(e),n=a.isReviewReasonsLoading,i=a.reportReasons;return{isReviewReasonsLoading:n,reviewReasons:a.reviewReasons,reportReasons:i,selectedGuestFeedback:r,selectedGuestProfile:o,tripInstanceId:a.tripInstanceId}},N={loadFeedbackReasons:S.loadFeedbackReasons,updateFeedbackForGuest:S.updateFeedbackForGuest},V=function(e){function t(s,r){babelHelpers.classCallCheck(this,t);var o=babelHelpers.possibleConstructorReturn(this,e.call(this,s,r));return o.onReviewReasonsChange=o.onReviewReasonsChange.bind(o),o.onReportReasonsChange=o.onReportReasonsChange.bind(o),o}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.isReviewReasonsLoading,s=e.reviewReasons,r=e.reportReasons,o=e.tripInstanceId;s||r||t||this.props.loadFeedbackReasons({tripInstanceId:o})},t.prototype.renderMarquee=function(){var e=this.props.selectedGuestProfile,t=e.firstName,s=e.profilePictureUrl;return babelHelpers.jsx(H.default,{text:a.default.phrase("Why wouldn\u2019t you host %{name} again?",{name:t},"page title asking reasons for not hosting the guest with name"),subtitle:a.default.phrase("Answers will only be shared with Airbnb",null,"page subtitle mentioning that review answers will only be shared with Airbnb"),image:s})},t.prototype.onReviewReasonsChange=function(e){this.props.updateFeedbackForGuest({guestProfileId:this.props.selectedGuestProfileId,reviewReasonIds:e})},t.prototype.onReportReasonsChange=function(e){this.props.updateFeedbackForGuest({guestProfileId:this.props.selectedGuestProfileId,reportReasonIds:e})},t.prototype.renderReviewReasons=function(){var e=this.props,t=e.selectedGuestFeedback,s=e.reviewReasons,r=t&&t.reviewReasonIds||[];return this.renderReasons(s,r,this.onReviewReasonsChange)},t.prototype.renderReportReasons=function(){var e=this.props,t=e.selectedGuestFeedback,s=e.reportReasons,r=t&&t.reportReasonIds||[];return this.renderReasons(s,r,this.onReportReasonsChange)},t.prototype.renderReasons=function(e,t,s){var r=e.map(function(e){return{label:e.name,value:e.id}});return babelHelpers.jsx(p.View,{style:W.reasonsContainer},void 0,babelHelpers.jsx(h.default,{options:r,values:t,onChange:s}))},t.prototype.render=function(){var e=this,t=this.props,s=t.isReviewReasonsLoading,r=t.reviewReasons,o=t.reportReasons,n=s||!r||!o,i=babelHelpers.jsx(R.default,{title:a.default.phrase("Report more serious behavior",null,"title for section where the host can report more serious behavior by guests"),subtitle:a.default.phrase("Reports are taken seriously and won\u2019t be shared with guests",null,"subtitle for the section where the host can report more serious behavior by guests"),divider:"none"});return babelHelpers.jsx(p.View,{style:W.container},void 0,babelHelpers.jsx(k.default,{},void 0,this.renderMarquee(),n&&babelHelpers.jsx(_.default,{}),!n&&this.renderReviewReasons(),i,n&&babelHelpers.jsx(_.default,{}),!n&&this.renderReportReasons()),babelHelpers.jsx(P.default,{},void 0,babelHelpers.jsx(F.default,{id:E.LOAD_FEEDBACK_REASONS_FAILED_TOAST,description:a.default.phrase("Something went wrong when loading feedback options",null,"text to tell user it fails to load feedback options"),action:a.default.phrase("Try again",null,"link title for click to retry"),onActionPress:this.props.loadFeedbackReasons})),babelHelpers.jsx(b.default,{babu:!0,buttonText:a.default.phrase("Next",null,"button title to take the user to the next step in the flow"),onButtonPress:function(){return w.default.push(O.REVIEW_GUEST_ADD_DETAILS,{selectedGuestProfileId:e.props.selectedGuestProfileId})}}))},t}(l.Component);V.propTypes=M,V.defaultProps=z;var W=q.default.create(function(e){return{container:{flex:1},reasonsContainer:{paddingHorizontal:e.size.baseRow.paddingHorizontal}}});r.default=(0,u.connect)(B,N)(V)},1854);