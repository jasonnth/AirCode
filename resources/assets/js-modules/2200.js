__d(function(e,t,r,i){function n(e){switch(e){case 4:case 5:return h.default.phrase("Offer suggestions or say thanks for being a great host.",null,"Title on private feedback screen for 3-5 star trips");default:return h.default.phrase("Offer suggestions to help your host improve.",null,"Title on private feedback screen for 1-2 star trips")}}Object.defineProperty(i,"__esModule",{value:!0});var a=t(412),o=babelHelpers.interopRequireDefault(a),s=t(271),l=(babelHelpers.interopRequireDefault(s),t(790)),u=t(654),p=t(759),c=babelHelpers.interopRequireDefault(p),d=t(379),h=babelHelpers.interopRequireDefault(d),f=t(2172),b=babelHelpers.interopRequireDefault(f),v=t(2175),g=t(2191),w=t(2178),R=t(1923),y=babelHelpers.interopRequireWildcard(R),m=t(2192),k=babelHelpers.interopRequireWildcard(m),P={recipient:g.RecipientShape,review:g.ReviewShape,changeReview:o.default.func.isRequired,saveReview:o.default.func.isRequired},C={recipient:null,review:null},B=function(e){function t(r){babelHelpers.classCallCheck(this,t);var i=babelHelpers.possibleConstructorReturn(this,e.call(this,r));return i.state={isEditing:!1},i.onBlur=i.onBlur.bind(i),i.onChangeText=i.onChangeText.bind(i),i.onFocus=i.onFocus.bind(i),i.onPrimaryPress=i.onPrimaryPress.bind(i),i}return babelHelpers.inherits(t,e),t.prototype.onBlur=function(){(0,w.logClick)("private_feedback","blur",this.props.review),this.setState({isEditing:!1})},t.prototype.onChangeText=function(e){this.props.changeReview({privateFeedback:e})},t.prototype.onFocus=function(){(0,w.logClick)("private_feedback","focus",this.props.review),this.setState({isEditing:!0})},t.prototype.onPrimaryPress=function(){this.props.saveReview(),(0,w.logImpressionAndPushRoute)(y.PUBLIC_FEEDBACK,this.props.review)},t.prototype.render=function(){var e=this.props,t=e.recipient,r=e.review,i=r.overallRating,a=r.privateFeedback,o=h.default.phrase("Add a private note to %{hostFirstName}",{hostFirstName:t.firstName},"Title on the private feedback screen in the review flow"),s=a&&a.trim().length>0,l=s?h.default.phrase("Edit private note",null,"Button on populated private feedback screen"):h.default.phrase("Add a private note",null,"Button on empty private feedback screen"),u=s?null:h.default.phrase("No, thanks",null,"Button on empty private feedback screen when not editing"),p=this.state.isEditing?h.default.phrase("Done",null,"Button on private feedback screen while editing"):u;return babelHelpers.jsx(b.default,{allowPrimaryPressWhileEditing:!0,onBlur:this.onBlur,onChangeText:this.onChangeText,onFocus:this.onFocus,onPrimaryPress:this.onPrimaryPress,placeholder:l,primaryButtonIcon:p?null:"chevron-right",primaryButtonLabel:p,subtitle:n(i),title:o,value:a})},t}(s.Component);B.propTypes=P,B.defaultProps=C,i.default=(0,l.connect)(function(e){return(0,c.default)((0,v.rootSelector)(e),["recipient","review"])},function(e){return(0,u.bindActionCreators)({changeReview:k.changeReview,saveReview:k.saveReview},e)})(B)},2200);