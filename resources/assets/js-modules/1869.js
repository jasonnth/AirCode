__d(function(e,t,l,i){function r(){(0,I.logGiftingFlowClickTopGiftingButtonEvent)(),C.default.present(j.GIFTCARD_ADD_NAME)}function a(){(0,I.logGiftingFlowClickBottomGiftingButtonEvent)(),C.default.present(j.GIFTCARD_ADD_NAME)}Object.defineProperty(i,"__esModule",{value:!0});var o=t(790),s=t(654),n=t(412),u=babelHelpers.interopRequireDefault(n),d=t(271),p=babelHelpers.interopRequireDefault(d),f=t(44),c=t(759),b=babelHelpers.interopRequireDefault(c),g=t(379),h=babelHelpers.interopRequireDefault(g),R=t(841),_=babelHelpers.interopRequireDefault(R),H=t(410),C=babelHelpers.interopRequireDefault(H),w=t(422),D=babelHelpers.interopRequireDefault(w),S=t(1431),m=babelHelpers.interopRequireDefault(S),q=t(1037),y=babelHelpers.interopRequireDefault(q),A=t(840),v=t(1870),x=t(1871),z=babelHelpers.interopRequireWildcard(x),G=t(1865),j=babelHelpers.interopRequireWildcard(G),V=t(1903),T=babelHelpers.interopRequireDefault(V),E=t(376),k=babelHelpers.interopRequireDefault(E),B=t(1904),F=babelHelpers.interopRequireDefault(B),I=t(1875),L={loadGiftCardsRootAssets:u.default.func.isRequired,headerSplashes:u.default.arrayOf(u.default.shape({localized_title:u.default.string.isRequired,image_url:u.default.string.isRequired,localized_button_text:u.default.string,localized_sub_title:u.default.string})),splashes:u.default.arrayOf(u.default.shape({localized_title:u.default.string.isRequired,image_url:u.default.string.isRequired,localized_button_text:u.default.string,localized_sub_title:u.default.string})),isFetching:u.default.bool.isRequired},P={headerSplashes:null,splashes:null},O=function(e){function t(l){babelHelpers.classCallCheck(this,t);var i=babelHelpers.possibleConstructorReturn(this,e.call(this,l));return i.loadGiftCardsLanding=i.loadGiftCardsLanding.bind(i),i.onDownScrollIndicatorClick=i.onDownScrollIndicatorClick.bind(i),i.setScrollViewRef=i.setScrollViewRef.bind(i),i}return babelHelpers.inherits(t,e),t.prototype.loadGiftCardsLanding=function(){k.default.user()&&k.default.localeLanguage()&&k.default.localeCountry()&&this.props.loadGiftCardsRootAssets({user_id:k.default.user().id,locale:k.default.localeLanguage()+"_"+k.default.localeCountry()})},t.prototype.onDownScrollIndicatorClick=function(e){this.scrollViewRef.scrollTo({y:(e+1)*(0,A.getWindowHeight)()})},t.prototype.setScrollViewRef=function(e){this.scrollViewRef=e},t.prototype.render=function(){var e=this;if(this.props.isFetching)return babelHelpers.jsx(f.View,{style:W.container},void 0,babelHelpers.jsx(C.default.Screen,{barType:C.default.Screen.BAR_TYPE.OVERLAY}),babelHelpers.jsx(_.default,{}));return p.default.createElement(f.ScrollView,{pagingEnabled:!0,scrollEventThrottle:16,ref:this.setScrollViewRef,style:W.container},babelHelpers.jsx(C.default.Screen,{barType:C.default.Screen.BAR_TYPE.OVERLAY,onAppear:function(){return e.loadGiftCardsLanding()}}),this.props.headerSplashes&&this.props.headerSplashes.map(function(t,l){return babelHelpers.jsx(f.View,{},t.image_url,babelHelpers.jsx(m.default,{image:t.image_url,height:(0,A.getWindowHeight)(),title:t.localized_title,subtitle:t.localized_sub_title,button:t.localized_button_text,onButtonPress:r}),babelHelpers.jsx(f.View,{style:[W.downScrollIndicator,{marginBottom:40}]},void 0,babelHelpers.jsx(F.default,{height:40,onPress:function(){return e.onDownScrollIndicatorClick(l)}})))}),this.props.splashes&&this.props.splashes.map(function(e){return babelHelpers.jsx(T.default,{height:(0,A.getWindowHeight)(),image:e.image_url,title:e.localized_title,subtitle:e.localized_sub_title,activeOpacity:1},e.image_url)}),babelHelpers.jsx(f.View,{style:W.button},void 0,babelHelpers.jsx(y.default,{onPress:a,sizeToFit:!1},void 0,h.default.phrase("Send a gift card",null,"CTA on gift cards landing page to start sending a gift card"))))},t}(d.PureComponent);O.propTypes=L,O.defaultProps=P;var W=D.default.create(function(e){var t=e.color,l=e.size;return{container:{backgroundColor:t.clear,flex:1},downScrollIndicator:{position:"absolute",bottom:0,left:0,right:0},button:{justifyContent:"center",position:"absolute",bottom:0,left:l.horizontal.small,right:l.horizontal.small,paddingBottom:l.vertical.small}}});i.default=(0,o.connect)(function(e){return(0,b.default)((0,v.creationSelector)(e),["headerSplashes","isFetching","splashes"])},function(e){return(0,s.bindActionCreators)({loadGiftCardsRootAssets:z.loadGiftCardsRootAssets},e)})(O)},1869);