__d(function(e,t,a,r){Object.defineProperty(r,"__esModule",{value:!0});var n=t(412),i=babelHelpers.interopRequireDefault(n),o=t(271),s=(babelHelpers.interopRequireDefault(o),t(44)),l=t(924),p=babelHelpers.interopRequireDefault(l),u=t(814),d=babelHelpers.interopRequireDefault(u),c={images:i.default.arrayOf(d.default).isRequired,renderContent:i.default.func.isRequired,eagerLoading:i.default.bool},f={eagerLoading:!1},h=function(e){function t(a){babelHelpers.classCallCheck(this,t);var r=babelHelpers.possibleConstructorReturn(this,e.call(this,a));return r.prefetchTaskCount=1,r.onPrefetch=[null],r.state={loadedImages:{0:new Array(a.images.length||1).fill(null)},opacity:{0:new s.Animated.Value(1)},previousLoadedIndex:0},r}return babelHelpers.inherits(t,e),t.prototype.componentWillMount=function(){this.prefetchImages(this.props.images)},t.prototype.componentWillUnmount=function(){this.onPrefetch[this.prefetchTaskCount-1]=null},t.prototype.componentWillReceiveProps=function(e){(0,p.default)(e.images,this.props.images)||this.prefetchImages(e.images)},t.prototype.prefetchImages=function(e){var t=this;if(e.length){var a=this.prefetchTaskCount;this.onPrefetch[a-1]=null,this.onPrefetch.push(function(e){var r=new s.Animated.Value(0),n=t.state.previousLoadedIndex;t.setState({loadedImages:babelHelpers.extends({},t.state.loadedImages,babelHelpers.defineProperty({},a,e)),opacity:babelHelpers.extends({},t.state.opacity,babelHelpers.defineProperty({},a,r)),previousLoadedIndex:a}),s.Animated.parallel([s.Animated.timing(r,{toValue:1,duration:250}),s.Animated.timing(t.state.opacity[n],{toValue:0,duration:250})]).start()});(this.props.eagerLoading?Promise.race:Promise.all)(e.map(function(e){return s.Image.prefetch(e)})).then(function(){t.onPrefetch[a]&&t.onPrefetch[a](e)}).catch(function(){}),this.prefetchTaskCount+=1}},t.prototype.render=function(){var e=this.props.renderContent,t=this.state,a=t.loadedImages,r=t.opacity;return babelHelpers.jsx(s.View,{},void 0,Object.entries(a).map(function(t){var a=babelHelpers.slicedToArray(t,2),n=a[0],i=a[1];return babelHelpers.jsx(s.Animated.View,{style:[{opacity:r[n]},n>0&&s.StyleSheet.absoluteFill]},n,e({images:i}))}))},t}(o.PureComponent);r.default=h,h.propTypes=c,h.defaultProps=f},923);