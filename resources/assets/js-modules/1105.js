__d(function(t,e,n,i){Object.defineProperty(i,"__esModule",{value:!0});var o=e(271),a=babelHelpers.interopRequireDefault(o),r=e(1075),s=babelHelpers.interopRequireDefault(r),l=e(1083),p=e(932),d=function(t){function e(n){babelHelpers.classCallCheck(this,e);var i=babelHelpers.possibleConstructorReturn(this,t.call(this,n));i.state={nodesShouldLoad:!1,nodesDoneLoad:!1,nodesDoneClipPathLoad:!1,animating:!0};var o=i.props.children;return i.continuous=o.type&&o.type.continuous,i.getTransitionState=i.getTransitionState.bind(i),i}return babelHelpers.inherits(e,t),e.prototype.componentWillReceiveProps=function(t){this.setState(this.getTransitionState(this.props,t))},e.prototype.shouldAnimateProps=function(t){return!(0,p.isEqual)(this.getWhitelistedProps(this.props),this.getWhitelistedProps(t))},e.prototype.getWhitelistedProps=function(t){var e=t.children&&t.children.props||{};return t.animationWhitelist?(0,p.pick)(e,t.animationWhitelist):e},e.prototype.shouldAnimateState=function(t,e){var n=this.props.children;if(n.type.role&&"axis"===n.type.role)return!1;var i=this.getParentState(t,e);if(!i)return this.animateState(e);var o=i.animating&&!i.nodesDoneLoad;return this.animateState(i,o)},e.prototype.getParentState=function(t,e){var n=e.oldProps||this.props;return n.animate&&n.animate.parentState||t.animate&&t.animate.parentState},e.prototype.animateState=function(t,e){var n=t.nodesWillExit,i=t.nodesWillEnter,o=t.nodesShouldEnter,a=t.nodesShouldLoad,r=t.nodesDoneLoad,s=t.nodesDoneClipPathLoad,l=t.nodesDoneClipPathEnter,p=t.nodesDoneClipPathExit,d=t.animating,h=e||!r&&(!!a||s),u=o||i||l,c=n||p;return(d||this.state.animating)&&(h||u||c)},e.prototype.shouldComponentUpdate=function(t,e){return!!this.shouldAnimateState(t,e)||!!this.shouldAnimateProps(t)},e.prototype.componentWillUpdate=function(t,e){if(e.animating!==this.state.animating&&!1===e.animating){(t&&t.animate&&t.animate.onEnd||p.identity)()}},e.prototype.componentDidMount=function(){this.transitionProps&&this.transitionProps.cb&&this.transitionProps.cb()},e.prototype.getTransitionState=function(t,e){var n=t.animate;if(n){if(n.parentState){var i=n.parentState;return{oldProps:i.nodesWillExit&&!i.nodesDoneClipPathExit?t:null}}var o=a.default.Children.toArray(t.children),r=a.default.Children.toArray(e.children),s=l.Transitions.getInitialTransitionState(o,r),d=s.nodesWillExit,h=s.nodesWillEnter,u=s.childrenTransitions,c=s.nodesShouldEnter,m=s.nodesShouldLoad,f=s.nodesDoneLoad,g=s.nodesDoneClipPathLoad,y=s.nodesDoneClipPathEnter,P=s.nodesDoneClipPathExit,C=s.animating,D={nodesWillExit:d,nodesWillEnter:h,childrenTransitions:u,nodesShouldEnter:c,nodesShouldLoad:m||this.state.nodesShouldLoad,nodesDoneLoad:f||this.state.nodesDoneLoad,animating:C||this.state.animating,oldProps:d&&!P?t:null};return this.continuous?(0,p.assign)({nodesDoneClipPathEnter:y,nodesDoneClipPathExit:P,nodesDoneClipPathLoad:g||this.state.nodesDoneClipPathLoad},D):D}return{}},e.prototype.getDomainFromChildren=function(t,e){var n=a.default.Children.toArray(t.children)[0],i=n.props||{},o=Array.isArray(i.domain)?i.domain:i.domain&&i.domain[e];if(!i.children&&o)return o;var r=function t(n){return n.reduce(function(n,i){if(i.type&&(0,p.isFunction)(i.type.getDomain)){var o=i.props&&i.type.getDomain(i.props,e);return o?n.concat(o):n}return i.props&&i.props.children?n.concat(t(a.default.Children.toArray(i.props.children))):n},[])}([n]);return 0===r.length?[0,1]:[l.Collection.getMinValue(r),l.Collection.getMaxValue(r)]},e.prototype.render=function(){var t=this,e=this.state&&this.state.nodesWillExit&&!this.state.nodesDoneClipPathExit?this.state.oldProps||this.props:this.props,n=this.props.animate&&this.props.animate.getTransitions?this.props.animate.getTransitions:l.Transitions.getTransitionPropsFactory(e,this.state,function(e){return t.setState(e)}),i=a.default.Children.toArray(e.children)[0],o=n(i);this.transitionProps=o;var r={x:this.getDomainFromChildren(e,"x"),y:this.getDomainFromChildren(e,"y")},d=(0,p.defaults)({domain:r},o,i.props),h=e.animationWhitelist||[],u=this.continuous?h.concat(["clipWidth","clipHeight","translateX"]):h,c=u.length?(0,p.pick)(d,u):d;return a.default.createElement(s.default,babelHelpers.extends({},d.animate,{data:c}),function(e){if(t.continuous){var n=e.clipWidth,o=e.clipHeight,r=e.translateX,s=e.padding,l=a.default.cloneElement(i.props.groupComponent,{clipWidth:n,clipHeight:o,translateX:r,padding:s});return a.default.cloneElement(i,(0,p.defaults)({animate:null,groupComponent:l},e,d))}return a.default.cloneElement(i,(0,p.defaults)({animate:null},e,d))})},e}(a.default.Component);d.displayName="VictoryTransition",d.propTypes={animate:a.default.PropTypes.object,children:a.default.PropTypes.node,animationWhitelist:a.default.PropTypes.array},i.default=d},1105);