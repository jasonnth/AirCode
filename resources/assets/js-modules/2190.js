__d(function(e,r,t,i){function a(e){switch(e){case 1:return v.default.phrase("Terrible",null,"Label in the review flow for 1 star");case 2:return v.default.phrase("Bad",null,"Label in the review flow for 2 stars");case 3:return v.default.phrase("Okay",null,"Label in the review flow for 3 stars");case 4:return v.default.phrase("Good",null,"Label in the review flow for 4 stars");case 5:return v.default.phrase("Great",null,"Label in the review flow for 5 stars");default:return" "}}Object.defineProperty(i,"__esModule",{value:!0});var l=r(412),s=babelHelpers.interopRequireDefault(l),n=r(271),o=(babelHelpers.interopRequireDefault(n),r(44)),u=r(790),p=r(654),b=r(759),f=babelHelpers.interopRequireDefault(b),d=r(379),v=babelHelpers.interopRequireDefault(d),h=r(841),c=babelHelpers.interopRequireDefault(h),R=r(773),w=babelHelpers.interopRequireDefault(R),g=r(778),H=babelHelpers.interopRequireDefault(g),y=r(787),q=babelHelpers.interopRequireDefault(y),P=r(1414),m=babelHelpers.interopRequireDefault(P),S=r(1036),C=babelHelpers.interopRequireDefault(S),D=r(2175),j=r(2191),x=r(2178),A=r(1923),E=babelHelpers.interopRequireWildcard(A),L=r(2192),T=babelHelpers.interopRequireWildcard(L),F=r(2195),I=babelHelpers.interopRequireDefault(F),N={saveError:s.default.bool.isRequired,recipient:j.RecipientShape,review:j.ReviewShape,changeReview:s.default.func.isRequired,saveReview:s.default.func.isRequired,recipientFirstName:s.default.string.isRequired},_={recipient:null,review:null},G=function(e){function r(t,i){babelHelpers.classCallCheck(this,r);var a=babelHelpers.possibleConstructorReturn(this,e.call(this,t,i));return a.onPrimaryPress=a.onPrimaryPress.bind(a),a.onRatingChange=a.onRatingChange.bind(a),a}return babelHelpers.inherits(r,e),r.prototype.onRatingChange=function(e){var r=this.props,t=r.changeReview,i=r.review;(0,x.logClick)("overall_rating",{overallRating:e,previousOverallRating:i.overallRating},i),o.LayoutAnimation.configureNext(o.LayoutAnimation.Presets.easeInEaseOut),t({overallRating:e})},r.prototype.onPrimaryPress=function(){this.props.saveReview(),this.props.review.overallRating>2?(0,x.logImpressionAndPushRoute)(E.LISTING_ATTRIBUTES,this.props.review):(0,x.logImpressionAndPushRoute)(E.CATEGORY_FEEDBACK,this.props.review)},r.prototype.renderHeaderMarquee=function(e){return babelHelpers.jsx(w.default,{title:v.default.phrase("How was your stay at %{recipientFirstName}\u2019s place?",{recipientFirstName:e},"Title on the overall rating screen in the review flow"),subtitle:v.default.phrase("We won\u2019t share your response until after your host writes a review too.",null,"Subtitle on the overall rating screen in the review flow")})},r.prototype.render=function(){var e=this.props,r=e.recipient,t=e.recipientFirstName,i=e.review;return i&&r?babelHelpers.jsx(o.View,{style:o.StyleSheet.absoluteFill},void 0,babelHelpers.jsx(o.View,{style:o.StyleSheet.absoluteFill},void 0,babelHelpers.jsx(q.default,{withInsets:[C.default]},void 0,this.renderHeaderMarquee(r.firstName),babelHelpers.jsx(H.default,{},void 0,babelHelpers.jsx(m.default,{title:a(i.overallRating),onRatingChange:this.onRatingChange,rating:i.overallRating,size:m.default.SIZES.LARGE}))),babelHelpers.jsx(C.default,{light:!0,transparent:!0,primaryDisabled:!i.overallRating,onPrimaryPress:this.onPrimaryPress})),babelHelpers.jsx(I.default,{onSaveTryAgainPress:this.onPrimaryPress})):babelHelpers.jsx(o.View,{style:o.StyleSheet.absoluteFill},void 0,this.renderHeaderMarquee(t),babelHelpers.jsx(c.default,{}))},r}(n.Component);G.propTypes=N,G.defaultProps=_,i.default=(0,u.connect)(function(e){return(0,f.default)((0,D.rootSelector)(e),["recipient","review","saveError"])},function(e){return(0,p.bindActionCreators)({changeReview:T.changeReview,saveReview:T.saveReview},e)})(G)},2190);