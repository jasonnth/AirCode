__d(function(e,t,a,n){function l(e){return e<10?"0"+e:""+e}function r(e){if(!e)return"";var t=e.getFullYear(),a=e.getMonth()+1,n=e.getDate();return t+"-"+l(a)+"-"+l(n)}function d(e,t){return e&&t&&e.getTime()-t.getTime()<0}function i(e,t){return e&&t&&e.getTime()-t.getTime()>0}function u(e){var t=e.split("-"),a=babelHelpers.slicedToArray(t,3),n=a[0],l=a[1],r=a[2];return new Date(parseInt(n,10),parseInt(l,10)-1,parseInt(r,10))}Object.defineProperty(n,"__esModule",{value:!0});var o=t(562),s=babelHelpers.interopRequireDefault(o),f=t(1696),p=babelHelpers.interopRequireDefault(f),c=t(1191),h=babelHelpers.interopRequireDefault(c),T=t(1684),D=function(){function e(t){babelHelpers.classCallCheck(this,e),this.populateDateInfos(t)}return e.prototype.populateDateInfos=function(e){var t=this;null!=e&&(this.dateInfos={},e.forEach(function(e){var a=(0,s.default)(e.start_date),n=(0,s.default)(e.end_date).diff(a,"days")+1;(0,p.default)(n,function(l){var r="square";0===l&&l===n-1?r="round":0===l?r="round-left":l===n-1&&(r="round-right");var d=(0,s.default)(a).add(l,"days").format(T.STD_DATE_FORMAT);t.dateInfos[d]={cellType:r,date:d,scheduledTripTemplate:e}})}))},e.prototype.dayStatesForMonth=function(e){var t=this,a=e.month,n=e.year,l=e.isSmallView,o=void 0!==l&&l,f=e.selectedScheduledTripTemplate,p=void 0===f?null:f;if(null==this.dateInfos)return[];var c=new Date(n,a,0),D=c.getDate(),I=new Date(n,a-1,1),m=(0,s.default)(I).weekday(),v=m-1,b=T.DAYS_IN_WEEK-(m+D-1)%T.DAYS_IN_WEEK,y=p?u(p.start_date):null,_=p?u(p.end_date):null,g=new Date;return(0,h.default)(-v,D+b).map(function(e){var l=e>0&&e<=D,u=l?new Date(n,a-1,e):null,s=new Date(n,a-1,Math.min(Math.max(e,1),D)),f=r(u),c=r(s),h=!!t.dateInfos[f],T=p&&t.dateInfos[f]&&p.id===t.dateInfos[f].scheduledTripTemplate.id,I=o?i(g,u):!h,m=!!o||h,v=!o&&(!h&&d(g,u)),b={disabled:I,available:m,unavailable:v,date:f,day:l?e:null,highlighted:h,inMonth:l,selected:T};if(h&&(b.highlightedState=t.dateInfos[f].cellType),T&&(b.selectedState=t.dateInfos[f].cellType),!l&&p){var S=t.dateInfos[c],w=e>0,M=e<=0;S&&p.id===S.scheduledTripTemplate.id&&(M||d(s,_))&&(w||i(s,y))&&(b.selectedState="square",b.selected=!0)}return b})},e.prototype.scheduledTripTemplateForDate=function(e){return e in this.dateInfos?this.dateInfos[e].scheduledTripTemplate:null},e}();n.default=D},1695);