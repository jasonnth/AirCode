__d(function(e,t,a,r){function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var T=t(2232),n=t(2235),s=d(n),i=t(2238),S=d(i),E=t(2233),I=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,a=arguments[1],r=a.type,d=a.payload,n=a.meta,i=n||{},I=i.threadID,h=i.transactionID;switch(r){case T.FETCH_NEWER:return t.startedFetchingNewerItems(n.threadType,I);case T.FETCH_NEWER_FAIL:return t.doneFetchingNewerItems(n.threadType,I,d);case T.FETCH_NEWER_SUCCESS:return t.addParticipants(n.threadType,d.participants).bulkInsertItemsToThread(n.threadType,I,d.items).setOlderItemsAvailable(n.threadType,I,d.olderItemsAvailable).updateThreadMeta(n.threadType,I,d.meta).doneFetchingNewerItems(n.threadType,I);case T.FETCH_OLDER:return t.startedFetchingOlderItems(n.threadType,I);case T.FETCH_OLDER_FAIL:return t.doneFetchingOlderItems(n.threadType,I,d);case T.FETCH_OLDER_SUCCESS:return t.addParticipants(n.threadType,d.participants).bulkInsertItemsToThread(n.threadType,I,d.items).setOlderItemsAvailable(n.threadType,I,d.olderItemsAvailable).updateThreadMeta(n.threadType,I,d.meta).doneFetchingOlderItems(n.threadType,I);case T.FETCH_PARTICIPANTS:case T.FETCH_PARTICIPANTS_FAIL:return t;case T.FETCH_PARTICIPANTS_SUCCESS:return t.addParticipants(n.threadType,d);case T.MESSAGE_SENT:return t.insertItemToThread(n.threadType,I,d.merge({senderID:t.getViewerID(n.threadType),timestamp:Date.now(),sendStatus:E.SEND_STATUS.SENDING}));case T.MESSAGE_SENT_CANCEL_SUCCESS:return t.removeItemFromThread(n.threadType,I,d.id);case T.MESSAGE_SENT_CANCEL_FAIL:return t.insertItemToThread(n.threadType,I,d.merge({sendStatus:E.SEND_STATUS.SEND_FINALIZING}));case T.RETRY_SEND_MESSAGE:return t.removeItemFromThread(n.threadType,I,d.id).insertItemToThread(n.threadType,I,d.merge({timestamp:Date.now(),sendStatus:E.SEND_STATUS.SENDING}));case T.MESSAGE_SENT_FAIL:return t.setSendStatus(n.threadType,I,h,E.SEND_STATUS.FAILED);case T.MESSAGE_SENT_SUCCESS:return t.removeItemFromThread(n.threadType,I,h).addParticipant(n.threadType,d.participant).insertItemToThread(n.threadType,I,d.item);case T.THREAD_INITIALIZE:return t.addThread(new s.default({id:I,type:n.threadType,isInitializing:!0}));case T.THREAD_INITIALIZE_FAIL:return t.doneInitializing(n.threadType,I,d);case T.THREAD_INITIALIZE_SUCCESS:return t.addThread(d.thread).addParticipant(n.threadType,new S.default({id:d.viewerID,data:{}})).setViewerID(n.threadType,d.viewerID).setActiveStatus(n.threadType,I,!0).doneInitializing(n.threadType,I);case T.THREAD_UNMOUNT:return t.setActiveStatus(n.threadType,I,!1);case T.UPDATE_LAST_SEEN:return t.bulkUpdateLastSeenForItems(n.threadType,I,d);case T.UPDATE_LAST_SEEN_FAIL:return t.doneUpdatingLastSeen(n.threadType,I,d);case T.APPLY_PAYLOAD:return t.applyPayload(n.threadType,I,d);default:return t}}};r.default=I},2234);