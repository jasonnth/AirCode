__d(function(e,t,n,r){function o(e,t){if(!e)return null;var n=v.default.isMoment(e)?e:(0,v.default)(e);return t&&(n=n.tz(t)),n}function i(e,t){return(0,H.isSameDay)(e,t)?(0,H.formatDate)(e):[e,t].filter(Boolean).map(function(e){return(0,H.formatDate)(e)}).join(" \u2013 ")||" "}function a(e){switch(e){case L.CHECKIN_CARD:case L.CHECKOUT_CARD:case L.HOME_CARD:return L.ENTITY_HOME_RESERVATION;case L.EXPERIENCE_CARD:return L.ENTITY_EXPERIENCE_RESERVATION;case L.IMMERSION_CARD:return L.ENTITY_IMMERSION;case L.PLACE_CARD:return L.ENTITY_PLACE_RESERVATION;default:throw new Error(e+" not supported")}}function u(e){switch(e){case L.CHECKIN_CARD:case L.CHECKOUT_CARD:case L.HOME_CARD:return"reservation2";case L.EXPERIENCE_CARD:return"experience_reservation";case L.IMMERSION_CARD:return"mt_trip";case L.PLACE_CARD:return"place_reservation";default:return null}}function s(e){switch(e){case L.RESY_TYPE:return 1;default:return null}}function _(e){switch(e){case L.EXPERIENCE_ITEM:case L.IMMERSION_ITEM:return"mt_template";case L.PLACE_ITEM:return"place";default:return null}}function c(e){return 6===e.length?"reservation2":"mt_trip_schedule"}function l(e){return!!e&&(!!e.id&&(!!e.expiresAt&&((!e.id||!e.hasSubmitted)&&o(e.expiresAt,e.timezone).diff(Date.now())>0)))}function E(e){return!e.isSharedItinerary&&!(0,H.isPast)(e.endsAt,e.timezone)&&e.statusCode===L.RESERVATION_STATUS_CODE_ACCEPT}function d(e){return!e.isSharedItinerary&&!(0,H.isPast)(e.endsAt,e.timezone)&&[L.RESERVATION_STATUS_CODE_PENDING,L.RESERVATION_STATUS_CODE_PENDING_PAYMENT].includes(e.statusCode)}function f(e){return e.statusCode!==L.RESERVATION_STATUS_CODE_ACCEPT?Promise.resolve(!1):(0,H.isPast)(e.startsAt,e.timezone)?Promise.all([V.default.isWeChatInstalled(),V.default.isWeChatAppSupportApi()]).then(function(e){var t=babelHelpers.slicedToArray(e,2),n=t[0],r=t[1];return!(!n||!r)&&(!K||x.default.launch("killswitch_wechat_trip_share")&&Y.default.deliverExperiment("android_share_trip_to_wechat_v1",{control:function(){return!1},treatment:function(){return!0},treatment_unknown:function(){return!1}}))}):Promise.resolve(!1)}function C(e){return!e.isSharedItinerary&&(!![L.RESERVATION_STATUS_CODE_ACCEPT,L.RESERVATION_STATUS_CODE_CANCELED_BY_HOST,L.RESERVATION_STATUS_CODE_CANCELED_BY_GUEST,L.RESERVATION_STATUS_CODE_CANCELED_BY_ADMIN].includes(e.statusCode)&&(!!(0,H.isPast)(e.startsAt,e.timezone)&&Y.default.deliverExperiment("`px_mobile_resolution_center_change`",{control:function(){},treatment:function(){},treatment_unknown:function(){}})))}function R(e,t){return e.replace(/%\{(.*?)\}/g,function(e,n){return t[n]})}function A(e,t){return e+"-"+t}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?e.charAt(0).toUpperCase()+e.slice(1):""}function T(e,t){return I(o(e,t).clone().add(3,"days").fromNow(!0))}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e||{};return t.more?L.LOADING_KEY_PAGINATE:t.sync?L.LOADING_KEY_SYNC:t.refresh?L.LOADING_KEY_REFRESH:L.LOADING_KEY_DEFAULT}function S(e,t,n){var r=t?(0,H.isPast)(t,n):(0,H.isPast)(e,n),o=!r&&(0,H.isUpcoming)(e,n);return{isUpcoming:o,isHappening:!r&&!o,isPast:r}}function N(e,t){return(0,v.default)().diff(o(e,t),"days")>L.CARD_EXPIRE_ACTIONS_IN_DAYS}function m(e,t){return(0,v.default)().diff(o(e,t),"hours")>L.CHECKIN_INFORMATION_EXPIRY_IN_HOURS}function h(e){return!e||Date.now()-e>L.SYNC_THRESHOLD}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.gray)return[b.color.divider];if(K)return[b.color.core.babu];var n=L.TIMELINE_COLORS.length,r=(t.startIndex||0)%n;return[L.TIMELINE_COLORS[(e+r)%n],L.TIMELINE_COLORS[(e+r+1)%n]]}function O(){Y.default.deliverExperiment("px_mobile_resolution_center_change",{control:function(){},treatment:function(){},treatment_unknown:function(){}});var e=g.Platform.select({ios:"px_mobile_resolution_center_change_ios",android:"px_mobile_resolution_center_change_android"});return Y.default.deliverExperiment(e,{control:function(){return!1},treatment:function(){return!0},treatment_unknown:function(){return!1}})?w.default.phrase("Send or Request Money",null,"a row button that bring up the resolution center"):w.default.phrase("Resolution Center",null,"a row button that bring up the resolution center")}Object.defineProperty(r,"__esModule",{value:!0}),r.getDate=o,r.getSummaryCardSubtitle=i,r.getEntityForCard=a,r.getActiveRecordTypeForCard=u,r.getReservatonTypeForLogging=s,r.getActiveRecordTypeForRecommendationsItem=_,r.getTypeForTripScheduleConfirmationCode=c,r.canReview=l,r.shouldShowCancelRow=E,r.canRetract=d,r.canShareToWeChatMoments=f,r.canGoResolutionCenter=C,r.interpolate=R,r.getIdForCard=A,r.capitalize=I,r.getIdentityTimeLeft=T,r.getLoadingKey=p,r.getDatesMetadata=S,r.hasExpired=N,r.hasCheckInInformationExpired=m,r.shouldFetch=h,r.getTimelineColorForIndex=D,r.getResolutionCenterRowTitle=O;var g=t(44),P=t(1681),v=babelHelpers.interopRequireDefault(P),b=t(1023),M=t(379),w=babelHelpers.interopRequireDefault(M),L=t(1818),H=t(1938),y=t(707),Y=babelHelpers.interopRequireDefault(y),U=t(705),x=babelHelpers.interopRequireDefault(U),F=t(1940),V=babelHelpers.interopRequireDefault(F),K="android"===g.Platform.OS},1937);