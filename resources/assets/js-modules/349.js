__d(function(t,i,n,e){"use strict";function s(t,i){var n=t.navigationState,e=i.layout,s=i.position,o=i.progress,a=i.scenes;return{layout:e,navigationState:n,position:s,progress:o,scenes:a,scene:a.find(r)}}function o(t){return!t.isStale}function r(t){return t.isActive}var a=i(240),p=i(250),u=i(347),l=i(350),h=i(60),c=i(82),d=i(113),v=h.PropTypes,_={duration:250,easing:p.inOut(p.ease),timing:a.timing},g=function(t){function i(n,e){babelHelpers.classCallCheck(this,i);var o=babelHelpers.possibleConstructorReturn(this,t.call(this,n,e)),r={height:new a.Value(0),initHeight:0,initWidth:0,isMeasured:!1,width:new a.Value(0)};return o.state={layout:r,position:new a.Value(o.props.navigationState.index),progress:new a.Value(1),scenes:l([],o.props.navigationState)},o._prevTransitionProps=null,o._transitionProps=s(n,o.state),o._isMounted=!1,o}return babelHelpers.inherits(i,t),i.prototype.componentWillMount=function(){this._onLayout=this._onLayout.bind(this),this._onTransitionEnd=this._onTransitionEnd.bind(this)},i.prototype.componentDidMount=function(){this._isMounted=!0},i.prototype.componentWillUnmount=function(){this._isMounted=!1},i.prototype.componentWillReceiveProps=function(t){var i=this,n=l(this.state.scenes,t.navigationState,this.props.navigationState);if(n!==this.state.scenes){var e=babelHelpers.extends({},this.state,{scenes:n}),o=e.position,r=e.progress;r.setValue(0),this._prevTransitionProps=this._transitionProps,this._transitionProps=s(t,e);var p=t.configureTransition?t.configureTransition(this._transitionProps,this._prevTransitionProps):null,u=babelHelpers.extends({},_,p),h=u.timing;delete u.timing;var c=[h(r,babelHelpers.extends({},u,{toValue:1}))];t.navigationState.index!==this.props.navigationState.index&&c.push(h(o,babelHelpers.extends({},u,{toValue:t.navigationState.index}))),this.setState(e,function(){t.onTransitionStart&&t.onTransitionStart(i._transitionProps,i._prevTransitionProps),a.parallel(c).start(i._onTransitionEnd)})}},i.prototype.render=function(){return babelHelpers.jsx(d,{onLayout:this._onLayout,style:[f.main,this.props.style]},void 0,this.props.render(this._transitionProps,this._prevTransitionProps))},i.prototype._onLayout=function(t){var i=t.nativeEvent.layout,n=i.height,e=i.width;if(this.state.layout.initWidth!==e||this.state.layout.initHeight!==n){var o=babelHelpers.extends({},this.state.layout,{initHeight:n,initWidth:e,isMeasured:!0});o.height.setValue(n),o.width.setValue(e);var r=babelHelpers.extends({},this.state,{layout:o});this._transitionProps=s(this.props,r),this.setState(r)}},i.prototype._onTransitionEnd=function(){var t=this;if(this._isMounted){var i=this._prevTransitionProps;this._prevTransitionProps=null;var n=babelHelpers.extends({},this.state,{scenes:this.state.scenes.filter(o)});this._transitionProps=s(this.props,n),this.setState(n,function(){t.props.onTransitionEnd&&t.props.onTransitionEnd(t._transitionProps,i)})}},i}(h.Component);g.propTypes={configureTransition:v.func,navigationState:u.navigationState.isRequired,onTransitionEnd:v.func,onTransitionStart:v.func,render:v.func.isRequired};var f=c.create({main:{flex:1}});n.exports=g},349);