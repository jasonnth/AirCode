__d(function(e,t,r,n){function o(e){return e?[[b.default.phrase("You\u2019re all set.",null,"first message for new user before new user experience"),b.default.phrase("Now, adventures await. Here\u2019s what you can do on Airbnb.",null,"second message for new user before new user experience")],[b.default.phrase("Book millions of homes around the world, from seaside cabins to urban lofts.",null,"new user experience information talking about what homes can do for you")],[b.default.phrase("Book experiences designed and led by experts, like sushi chefs or surf legends.",null,"new user experience information talking about what experiences can do for you")],[b.default.phrase("And find secret spots and local favorites recommended by insiders.",null,"new user experience information talking about what places can do for you")]]:[[b.default.phrase("Welcome back.",null,"first message for returning user before new user experience"),b.default.phrase("There have been big changes since you were last here...",null,"second message for new user before new user experience")],[b.default.phrase("Now, Airbnb is more than just homes. Book your whole trip \u2014 all from one app.",null,"second screen for returning users")]]}function i(e,r){return e.map(function(e){var n=b.default.phrase("Next",null,"the button that will change to the next screen in the new user experience"),o=void 0,i=void 0,a=void 0;return e===B.HOMES_TAB?(o=b.default.phrase("HOMES",null,"a place you live in"),i=r?b.default.phrase("Book millions of homes around the world, from seaside cabins to urban lofts.",null,"new user experience information talking about what homes can do for you"):b.default.phrase("You can still book homes on Airbnb. But now, there are new ways to feel like a local.",null,"new user experience for returning users"),a=t(1599)):e===B.EXPERIENCES_TAB?(o=b.default.phrase("EXPERIENCES",null,"activities that you can do"),i=b.default.phrase("Book experiences designed and led by experts, like sushi chefs or surf legends.",null,"new user experience information talking about what experiences can do for you"),a=t(1600)):e===B.PLACES_TAB&&(n=b.default.phrase("Got it",null,"last button on the new user experience"),o=b.default.phrase("PLACES",null,"places you go to"),i=r?b.default.phrase("And find thousands of places, recommended by insiders and hosts.",null,"new user experience information talking about what places can do for you"):b.default.phrase("And find thousands of places, like secret spots and local favorites.",null,"new user experience for returning users talking about places"),a=t(1601)),{buttonText:n,name:o,text:i,url:a}})}function a(){return!1}Object.defineProperty(n,"__esModule",{value:!0});var s=t(412),l=babelHelpers.interopRequireDefault(s),u=t(271),d=babelHelpers.interopRequireDefault(u),p=t(44),f=t(782),c=babelHelpers.interopRequireDefault(f),h=t(379),b=babelHelpers.interopRequireDefault(h),x=t(1023),m=t(554),g=babelHelpers.interopRequireDefault(m),w=t(1580),y=babelHelpers.interopRequireDefault(w),v=t(410),H=babelHelpers.interopRequireDefault(v),T=t(879),S=babelHelpers.interopRequireDefault(T),V=t(1583),R=babelHelpers.interopRequireDefault(V),A=t(420),k=babelHelpers.interopRequireDefault(A),E=t(840),j=t(1584),I=babelHelpers.interopRequireDefault(j),N=t(1586),C=babelHelpers.interopRequireDefault(N),B=t(1587),D=t(1588),O=t(1589),q=t(1590),L=babelHelpers.interopRequireDefault(q),_=g.default.vertical.medium,F={isNewUser:l.default.bool,setTimeout:l.default.func.isRequired,isMounted:l.default.func.isRequired},M={isNewUser:!1},P=function(e){function t(r,n){babelHelpers.classCallCheck(this,t);var o=babelHelpers.possibleConstructorReturn(this,e.call(this,r,n));return o.state={hero:new p.Animated.Value(0),heroOpacity:new p.Animated.Value(1),video:new p.Animated.Value(0),videoText:new p.Animated.Value(0),videoTextHeight:0,videoTextHeightSet:!1,videoVisible:a(),currentMessageIndex:-1,currentHero:null,nextHero:null},o.animateVideoOffscreen=o.animateVideoOffscreen.bind(o),o.animateVideoText=o.animateVideoText.bind(o),o.changeSlides=o.changeSlides.bind(o),o.messages=o.messages.bind(o),o.timeBeforeSwitchingCurrentSlide=o.timeBeforeSwitchingCurrentSlide.bind(o),o.tabValues=i(B.ALL_TABS,o.props.isNewUser),o}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){this.state.videoVisible||this.startHero()},t.prototype.componentWillUpdate=function(e,t){var r=this.state.currentMessageIndex,n=t.currentMessageIndex;r<n&&n<this.messages().length-1&&this.props.setTimeout(this.changeSlides,this.timeBeforeSwitchingCurrentSlide(n))},t.prototype.onVideoTextLayout=function(e){if(!this.state.videoTextHeightSet){var t=e.nativeEvent.layout.height;this.setState({videoTextHeight:t,videoTextHeightSet:t>0})}},t.prototype.animateHero=function(){var e=this;p.Animated.spring(this.state.hero,{friction:7,toValue:1,velocity:1}).start(function(){p.Animated.timing(e.state.heroOpacity,{duration:0,toValue:0}).start()})},t.prototype.animateVideoOffscreen=function(){var e=this,t=this.state.video;p.Animated.timing(t,{duration:300,toValue:1}).start(function(){e.setState({videoVisible:!1})}),this.startHero()},t.prototype.animateVideoText=function(){p.Animated.timing(this.state.videoText,{duration:750,toValue:1}).start()},t.prototype.animatedStyleForHero=function(){var e=(0,I.default)();return{opacity:this.state.heroOpacity,transform:[{translateX:this.state.hero.interpolate({inputRange:[0,1],outputRange:[0,-1*e]})}]}},t.prototype.animatedStyleForVideo=function(){return{opacity:this.state.video.interpolate({inputRange:[0,1],outputRange:[1,0]})}},t.prototype.animatedStyleForVideoText=function(){var e=this.state.videoText;return{opacity:e.interpolate({inputRange:[0,1],outputRange:[0,1]}),transform:[{translateY:e.interpolate({inputRange:[0,1],outputRange:[0,-1*_]})}]}},t.prototype.changeSlides=function(){var e=this.state.currentMessageIndex;if(e<this.messages().length-1){var t=e+1;this.props.isMounted()&&this.setState({currentHero:t%2==0,currentMessageIndex:t,nextHero:t%2!=0})}},t.prototype.messages=function(){return o(this.props.isNewUser)},t.prototype.startHero=function(){this.setState({currentHero:!0,currentMessageIndex:0})},t.prototype.timeBeforeSwitchingCurrentSlide=function(e){var t=this.messages()[e],r=t.reduce(function(e,t){return t.length+e},0);return O.HERO_TYPING_SPEED*r+3e3},t.prototype.renderHero=function(){var e=this.state.currentMessageIndex,t=this.messages(),r=e===t.length-1;return t[e]?babelHelpers.jsx(L.default,{contentOffsetY:g.default.vertical.huge,flowType:D.NUX,heroMessage:{heroActions:[{destinationType:D.DESTINATION_TYPE_CALLBACK,destination:function(){H.default.dismiss()},text:r?b.default.phrase("Let\u2019s go",null,"the button to start the new user experience"):null}],messages:t[e]},presentTakeover:!1,showLoadingIndicator:0===e}):babelHelpers.jsx(p.View,{})},t.prototype.renderNUX=function(){var e=this,t=this.state,r=t.currentHero,n=t.nextHero,o=t.videoTextHeight,i=t.videoVisible,a=p.Dimensions.get("window"),s=a.width,l=(0,E.getWindowHeight)(),u=l<667,d=void 0;d=l>=736?166.5:l>=667?148:120.25;var f=o>d,c=l/667*450,h=l-c,m=(h-o)/2-(f?0:.5*_);return babelHelpers.jsx(p.View,{},void 0,babelHelpers.jsx(p.StatusBar,{animated:!0,hidden:!0}),babelHelpers.jsx(H.default.Screen,{leftIcon:H.default.LEFT_ICON.NONE}),i&&babelHelpers.jsx(p.Animated.View,{style:[z.backgroundVideo,p.StyleSheet.absoluteFill,this.animatedStyleForVideo()]},void 0,babelHelpers.jsx(C.default,{onEnd:this.animateVideoOffscreen,onLoadStart:function(){e.props.setTimeout(e.animateVideoText,6e3)}}),babelHelpers.jsx(p.Animated.View,{style:[z.videoTextWrapper,this.animatedStyleForVideoText(),{bottom:m}]},void 0,babelHelpers.jsx(p.Text,{onLayout:function(t){return e.onVideoTextLayout(t)},style:[z.videoText,l>=736?z.videoTextPlus:z.videoTextNormal,{flex:f||u?1:80}]},void 0,b.default.phrase("Welcome to the world of trips",null,"text under video during new user experience flow")),babelHelpers.jsx(p.View,{style:{flex:f||u?0:20}}))),babelHelpers.jsx(p.Animated.View,{style:[z.hero,p.StyleSheet.absoluteFill,x.ThemedStyleSheet.overflowHidden,this.animatedStyleForHero()]},void 0,babelHelpers.jsx(S.default,{style:[z.jellyfish,p.StyleSheet.absoluteFill,{width:s,height:l}]}),r&&this.renderHero(),n&&this.renderHero()),babelHelpers.jsx(p.View,{style:[z.tabbedView]},void 0,babelHelpers.jsx(y.default,{onPressButton:function(){return H.default.dismiss()},scrollEnabled:!1,tabs:this.tabValues.map(function(e){return{buttonText:e.buttonText,name:e.name,url:e.url}}),tabsPressable:!1,width:s},void 0,this.tabValues.map(function(e){var t=e.text;return babelHelpers.jsx(p.View,{style:[p.StyleSheet.absoluteFill,x.ThemedStyleSheet.overflowHidden]},t,babelHelpers.jsx(p.Text,{style:[z.textForOverlay]},void 0,t))}))))},t.prototype.render=function(){var e=this;return babelHelpers.jsx(R.default,{renderPortrait:function(){return e.renderNUX()},renderLandscape:function(){return e.renderNUX()}})},t}(d.default.Component);P.defaultProps=M,P.propTypes=F;var z=x.ThemedStyleSheet.create(function(e){var t=e.bp,r=e.color,n=e.font;return{backgroundVideo:{backgroundColor:r.white,flex:1,zIndex:3},hero:{backgroundColor:r.core.babu,flex:1,zIndex:2},jellyfish:{zIndex:0},tabbedView:{zIndex:1},textForOverlay:babelHelpers.extends({},n.title2Light,{backgroundColor:r.clear,color:r.white,paddingTop:w.SEARCH_BAR_HEIGHT+5*t,paddingHorizontal:g.default.baseRow.paddingHorizontal}),videoText:{backgroundColor:r.clear,color:r.dark.hof,paddingTop:0},videoTextNormal:n.title2Bold,videoTextPlus:{color:r.textDark,fontFamily:n.bold,fontSize:36,lineHeight:40},videoTextWrapper:{flex:1,flexDirection:"row",left:0,paddingHorizontal:k.default.isTablet?g.default.baseRow.paddingHorizontal:5*t,position:"absolute",zIndex:5}}});n.default=(0,c.default)(P)},1579);