__d(function(e,t,r,i){Object.defineProperty(i,"__esModule",{value:!0});var a=t(412),s=babelHelpers.interopRequireDefault(a),l=t(271),o=babelHelpers.interopRequireDefault(l),n=t(44),p=t(1023),u=t(379),d=babelHelpers.interopRequireDefault(u),b=t(926),c=babelHelpers.interopRequireDefault(b),f=t(756),h=babelHelpers.interopRequireDefault(f),m=t(811),g=babelHelpers.interopRequireDefault(m),H=t(2057),y=babelHelpers.interopRequireDefault(H),R=t(714),v=babelHelpers.interopRequireDefault(R),C={isSelected:s.default.bool,place:s.default.object.isRequired,onPressDetails:s.default.func.isRequired,mapCardWidth:s.default.number.isRequired,mapCardMarginRight:s.default.number.isRequired},P={isSelected:!1},_=function(e){function t(r,i){babelHelpers.classCallCheck(this,t);var a=babelHelpers.possibleConstructorReturn(this,e.call(this,r,i));return a.onPressHeart=a.onPressHeart.bind(a),a.state={isWishListed:!1},a}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){var e=this;this.subscription=v.default.subscribeIsWishlisted(v.default.TYPE.PLACE,this.props.place.primary_place.id,function(t){return e.setState({isWishListed:t})})},t.prototype.componentWillUnmount=function(){v.default.unsubscribe(this.subscription)},t.prototype.onPressHeart=function(){v.default.togglePlaceWishListed(this.props.place.primary_place.id,v.default.SOURCE.INSIDER_MAP_SCREEN)},t.prototype.render=function(){var e=this.props,t=e.isSelected,r=e.place,i=e.onPressDetails,a=e.mapCardWidth,s=e.mapCardMarginRight,l=this.state.isWishListed,o=(0,g.default)((0,y.default)(r)),p=a/1.5,u=x(r.localized_singular_sub_category_name,r.localized_neighborhood_name);return babelHelpers.jsx(n.View,{style:[D.container,{width:a,marginRight:s}]},void 0,babelHelpers.jsx(n.TouchableWithoutFeedback,{onPress:i},void 0,babelHelpers.jsx(n.View,{},void 0,babelHelpers.jsx(n.View,{style:[D.imageWrapper,t&&D.imageWrapperSelected,{width:a,height:p+4}]},void 0,babelHelpers.jsx(n.Image,{resizeMode:"cover",style:[D.image,{width:a,height:p}],source:o},void 0,babelHelpers.jsx(n.View,{style:D.heart},void 0,babelHelpers.jsx(c.default,{isHearted:l,onPress:this.onPressHeart,size:16,type:c.default.TYPES.OUTLINED})))),babelHelpers.jsx(n.Text,{style:D.bottomCopyContainer,numberOfLines:3},void 0,babelHelpers.jsx(h.default,{smallBold:!0},void 0,r.primary_place.name),babelHelpers.jsx(h.default,{small:!0},void 0," "),babelHelpers.jsx(h.default,{small:!0},void 0,u)))))},t}(o.default.Component);i.default=_;var x=function(e,t){return e&&t?d.default.phrase("%{subcategory} in %{neighborhood}",{subcategory:e,neighborhood:t},"subtitle, e.g. restaurant in mission"):t||(e||"")},D=p.ThemedStyleSheet.create(function(e){return{heart:{position:"absolute",right:5,top:5},image:{marginBottom:5},container:{marginBottom:10,overflow:"hidden"},imageWrapper:{paddingTop:4},imageWrapperSelected:{backgroundColor:e.color.core.babu},bottomCopyContainer:{flexDirection:"row",flexWrap:"wrap",marginTop:3}}});_.propTypes=C,_.defaultProps=P},2075);