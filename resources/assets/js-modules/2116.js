__d(function(e,t,r,o){function n(e){if(e.user&&e.user.thumbnail_url&&!e.guidebook_id){var t=v.default.phrase("From %{firstName}",{firstName:e.user.first_name},"title for guidebook from home host");return babelHelpers.jsx(C.default,{description:e.description,userName:"",title:t,image:e.user.thumbnail_url},e.id)}return null}Object.defineProperty(o,"__esModule",{value:!0});var s=t(412),a=babelHelpers.interopRequireDefault(s),i=t(271),l=(babelHelpers.interopRequireDefault(i),t(44)),d=t(654),c=t(790),p=t(841),u=babelHelpers.interopRequireDefault(p),m=t(778),h=babelHelpers.interopRequireDefault(m),f=t(1023),b=t(2117),R=babelHelpers.interopRequireDefault(b),H=t(773),S=babelHelpers.interopRequireDefault(H),y=t(379),v=babelHelpers.interopRequireDefault(y),E=t(2004),C=babelHelpers.interopRequireDefault(E),I=t(2073),q=babelHelpers.interopRequireDefault(I),P=t(2046),D=t(2035),g=t(2093),k={recommendationIds:[],recommendations:[],placePdpType:g.PlacePdpTypeEnums.GENERAL},j={pressedCloseGuidebookScreen:a.default.func.isRequired,fetchRecommendations:a.default.func.isRequired,recommendations:a.default.array,recommendationIds:a.default.array,placeId:q.default.isRequired,placePdpType:a.default.number},w=function(e){function t(r,o){babelHelpers.classCallCheck(this,t);var n=babelHelpers.possibleConstructorReturn(this,e.call(this,r,o));return n.renderHeader=n.renderHeader.bind(n),n.onEndReached=n.onEndReached.bind(n),n.handleMomentumScrollEnd=n.handleMomentumScrollEnd.bind(n),n.currY=0,n}return babelHelpers.inherits(t,e),t.prototype.componentWillMount=function(){var e=new l.ListView.DataSource({rowHasChanged:function(e,t){return e!==t}});this.state={dataSource:e.cloneWithRows(this.props.recommendations)},0===this.props.recommendations.length&&this.props.fetchRecommendations(this.props.recommendationIds.slice(0,20),this.props.placeId,0)},t.prototype.componentWillReceiveProps=function(e){this.setState({dataSource:this.state.dataSource.cloneWithRows(e.recommendations)})},t.prototype.onEndReached=function(){var e=this.props.recommendations.length;0!==e&&this.props.fetchRecommendations(this.props.recommendationIds.slice(e,e+20),this.props.placeId,e)},t.prototype.handleMomentumScrollEnd=function(e){var t=e.nativeEvent.contentOffset.y,r=t<this.prevY;this.prevY=t,(0,g.logGuidebookScrollPlacePdpRecsEvent)(parseInt(this.props.placeId,10),r,this.props.placePdpType)},t.prototype.renderHeader=function(){return babelHelpers.jsx(h.default,{},void 0,babelHelpers.jsx(S.default,{title:v.default.phrase("Tips from local hosts",null,"title for recommendations from local hosts"),onBackPress:this.props.pressedCloseGuidebookScreen}),0===this.props.recommendations.length&&babelHelpers.jsx(l.View,{style:_.loaderContainer},void 0,babelHelpers.jsx(u.default,{})))},t.prototype.render=function(){return babelHelpers.jsx(R.default,{automaticallyAdjustContentInsets:!1,dataSource:this.state.dataSource,enableEmptySections:!0,renderHeader:this.renderHeader,renderRow:n,onEndReached:this.onEndReached,showsVerticalScrollIndicator:!0,onMomentumScrollEnd:this.handleMomentumScrollEnd})},t}(i.PureComponent);w.propTypes=j,w.defaultProps=k;var _=f.ThemedStyleSheet.create(function(e){return{loaderContainer:{paddingVertical:e.size.vertical.medium}}}),M=function(e,t){return{recommendations:(0,P.placeRecommendationsSelector)(e,t),recommendationIds:(0,P.placeRecommendationIdsSelector)(e,t)}};o.default=(0,c.connect)(M,function(e){return(0,d.bindActionCreators)({pressedCloseGuidebookScreen:D.pressedCloseGuidebookScreen,fetchRecommendations:D.fetchRecommendations},e)})(w)},2116);