__d(function(e,t,i,s){Object.defineProperty(s,"__esModule",{value:!0});var n=t(412),l=babelHelpers.interopRequireDefault(n),r=t(271),o=babelHelpers.interopRequireDefault(r),a=t(44),p=t(790),u=t(654),c=t(379),h=babelHelpers.interopRequireDefault(c),f=t(773),d=babelHelpers.interopRequireDefault(f),b=t(841),g=babelHelpers.interopRequireDefault(b),C=t(778),H=babelHelpers.interopRequireDefault(C),O=t(787),S=babelHelpers.interopRequireDefault(O),k=t(1032),T=babelHelpers.interopRequireDefault(k),y=t(410),_=babelHelpers.interopRequireDefault(y),I=t(1352),R=babelHelpers.interopRequireDefault(I),q=t(781),D=babelHelpers.interopRequireDefault(q),m=t(1023),v=t(2390),x=babelHelpers.interopRequireWildcard(v),E=t(2393),j=t(2386),M=babelHelpers.interopRequireWildcard(j),F=t(2394),N=t(2391),A=t(2395),P={listingId:l.default.string.isRequired,fetchCheckinOptions:l.default.func,selfCheckinOptions:l.default.array,isFetching:l.default.bool,errorMessage:l.default.string},w={listingId:"5770917"},L=function(e){function t(i){babelHelpers.classCallCheck(this,t);var s=babelHelpers.possibleConstructorReturn(this,e.call(this,i));return s.state={shouldShowToast:!1},s.selectCheckinOption=s.selectCheckinOption.bind(s),s}return babelHelpers.inherits(t,e),t.prototype.fetchCheckinOptions=function(){this.props.fetchCheckinOptions(this.props.listingId)},t.prototype.selectCheckinOption=function(e){_.default.push(M.LISTING_SELF_CHECKIN_EDIT_INSTRUCTIONS,{checkinType:e.amenity.id,listingId:this.props.listingId,existingInstructions:e.instruction,existingListingAmenityId:e.amenity.hosting_amenity_id}),(0,F.logSelectOption)(e,this.props.listingId)},t.prototype.componentWillReceiveProps=function(e){this.setState({shouldShowToast:e.errorMessage&&e.errorMessage.length>0})},t.prototype.componentDidMount=function(){this.fetchCheckinOptions()},t.prototype.render=function(){var e=this,t=h.default.phrase("Add self check-in",null,"Title of the add self-checkin option screen."),i=h.default.phrase("Select an option",null,"Subtitle of the add self-checkin option screen.");return babelHelpers.jsx(a.View,{style:W.container},void 0,this.props.isFetching&&babelHelpers.jsx(a.View,{style:[a.StyleSheet.absoluteFill,{flex:1}]},void 0,babelHelpers.jsx(g.default,{})),babelHelpers.jsx(S.default,{},void 0,babelHelpers.jsx(d.default,{title:t,subtitle:i}),!this.props.isFetching&&this.props.selfCheckinOptions&&babelHelpers.jsx(H.default,{},void 0,this.props.selfCheckinOptions.map(function(t){return babelHelpers.jsx(T.default,{title:t.amenity.name,subtitle:(0,A.GET_OPTION_TO_CONTENT_MAP)()[t.amenity.id].description,actionTitle:t.option_available?h.default.phrase("Edit",null,"CTA to edit a self checkin option."):h.default.phrase("Select",null,"CTA to select a self checkin option."),onPress:function(){e.selectCheckinOption(t)}},t.amenity.id)}))),babelHelpers.jsx(D.default,{},void 0,this.state.shouldShowToast&&this.props.errorMessage&&babelHelpers.jsx(R.default,{id:N.SELF_CHECKIN_OPTION_REQUEST_FAILED_TOAST,error:!0,title:h.default.phrase("Error",null,"Error toast title."),description:this.props.errorMessage,onClosePress:function(){e.setState({shouldShowToast:!1})}})))},t}(o.default.Component);L.defaultProps=w,L.propTypes=P;var W=m.ThemedStyleSheet.create(function(){return{container:{flex:1}}});s.default=(0,p.connect)(function(e){var t=(0,E.listingSelfCheckinSettingsSelector)(e);return{isFetching:t.get("isFetchingSelfCheckinOptions"),selfCheckinOptions:t.get("selfCheckinOptions"),errorMessage:t.get("errorMessage")}},function(e){return(0,u.bindActionCreators)({fetchCheckinOptions:x.getCheckinOptions},e)})(L)},2389);