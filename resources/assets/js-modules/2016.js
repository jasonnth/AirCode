__d(function(e,t,r,n){Object.defineProperty(n,"__esModule",{value:!0});var o=t(379),s=babelHelpers.interopRequireDefault(o),a=t(412),i=babelHelpers.interopRequireDefault(a),u=t(271),l=(babelHelpers.interopRequireDefault(u),t(44)),p=t(814),d=babelHelpers.interopRequireDefault(p),c=t(1818),f=t(1919),h=t(1938),b=t(1937),R=t(1986),P=babelHelpers.interopRequireDefault(R),m=t(1483),y=t(1680),g=t(1962),w=babelHelpers.interopRequireDefault(g),H=t(2017),C=babelHelpers.interopRequireDefault(H),D=t(1995),v=babelHelpers.interopRequireDefault(D),E=t(1999),q=babelHelpers.interopRequireDefault(E),x=t(2e3),_=babelHelpers.interopRequireDefault(x),A=t(2001),I=babelHelpers.interopRequireDefault(A),T=t(2002),O=babelHelpers.interopRequireDefault(T),S=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,e.apply(this,arguments))}return babelHelpers.inherits(t,e),t.prototype.hasExpired=function(){var e=this.props,t=e.endsAt,r=e.timezone;return Math.abs((0,b.getDate)(t,r).diff(Date.now(),"days"))>c.CARD_EXPIRE_ACTIONS_IN_DAYS},t.prototype.getActions=function(){var e=this.props,t=e.groupThreadId,r=e.onPressCallHost,n=e.onPressContact,o=e.primaryHost.phone,a=e.threadId,i=[];return this.hasExpired()?i:(o&&i.push({icon:"phone",onPress:function(){return r(o)},title:s.default.phrase("Call Host",null,"an action button that brings up a list of options to call a user (Call/Text/Copy phone number)")}),(a||t)&&i.push({icon:"message",onPress:function(){return n(a,t)},title:s.default.phrase("Contact",null,"an action button that opens the conversation thread with the host")}),i)},t.prototype.getLinkRows=function(){var e=this.props,t=e.cancellationPolicyUrl,r=e.groupThreadId,n=e.onPressActionEvent,o=e.onPressContact,a=e.threadId,i=[];return this.hasExpired()&&(a||r)&&i.push({icon:"comment",onPress:function(){return o(a,r)},title:s.default.phrase("Message Host",null,"a row button that opens the conversation thread with the host")}),"android"===l.Platform.OS&&r&&i.push({icon:"comment",onPress:function(){return o(r)},title:s.default.phrase("Message Group",null,"a row button that opens the conversation thread with the group")}),i.push({onPress:function(){return(0,P.default)((0,m.getWebUrl)(t))},title:s.default.phrase("Cancellation Policy",null,"a row button that brings up the cancelation policy sheet")}),i.push({onPress:function(){return n("Help",function(){(0,f.navigateToHelp)()})},title:s.default.phrase("Help",null,"a row button that links to the help center")}),i},t.prototype.getSections=function(){var e=[],t=this.props.description;return t&&e.push({title:s.default.phrase("What to expect",null,"Header for a blurb about what to expect on this trip"),body:t}),e},t.prototype.getSubtitle=function(){var e=this.props,t=e.endsAt,r=e.experiences,n=e.product,o=e.durationInHours,a=e.primaryCategory,i=e.startsAt,u=e.timezone;return n.productType===c.EXPERIENCE_TYPE_MULTI_DAY?(0,y.displayImmersionDurationDays)({},{scheduled_experiences:r,start_date:(0,b.getDate)(i,u).startOf("day").format(),end_date:(0,b.getDate)(t,u).startOf("day").format()},!1,{primaryCategory:a}):s.default.phrase("%{smart_count} hour experience |||| %{smart_count} hour experience",{smart_count:o},"Subheader describing experience duration")},t.prototype.render=function(){var e=this.props,t=e.endsAt,r=e.guests,n=e.experiences,o=e.name,s=e.onPressHostRow,a=e.onPressExperienceRow,i=e.onPressProductRow,u=e.onPressReviewRow,l=e.picture,p=e.primaryHost,d=e.product,f=e.review,R=e.startsAt,P=e.timezone;return babelHelpers.jsx(O.default,{actions:this.getActions(),guests:r,host:p,image:l,links:this.getLinkRows(),locations:n.map(function(e){return babelHelpers.extends({},e.location,{name:e.name})}),onPressHostRow:s,onPressMapRowAtIndex:function(e){return a(n[e].id)},onPressProductRow:i,onPressReviewRow:function(){return u(f.id,!0,p.firstName,!0,o)},product:d,sections:this.getSections(),showReviewRow:(0,b.canReview)(f),subtitle:this.getSubtitle(),suptitle:(0,h.smartRangeFormat)(R,t,P,{showDayOfWeek:!0,allDay:d.productType===c.EXPERIENCE_TYPE_MULTI_DAY}),title:o})},t}(u.PureComponent);S.contextTypes={theme:i.default.string},S.propTypes={cancellationPolicyUrl:i.default.string,confirmationCode:v.default.isRequired,description:i.default.string,durationInHours:i.default.number.isRequired,durationInDays:i.default.number.isRequired,endsAt:w.default.isRequired,experiences:i.default.arrayOf(C.default),guests:i.default.arrayOf(I.default),groupThreadId:i.default.number,name:i.default.string,picture:d.default,primaryCategory:i.default.string,primaryHost:I.default,product:q.default.isRequired,onPressActionEvent:i.default.func.isRequired,onPressCallHost:i.default.func,onPressContact:i.default.func,onPressExperienceRow:i.default.func,onPressHelp:i.default.func,onPressHostRow:i.default.func,onPressProductRow:i.default.func,onPressReviewRow:i.default.func,review:_.default,startsAt:w.default.isRequired,threadId:i.default.number,timezone:i.default.string.isRequired},S.defaultProps={onPressActionEvent:function(){},onPressCallHost:function(){},onPressContact:function(){},onPressExperienceRow:function(){},onPressProductRow:function(){},onPressReviewRow:function(){},primaryCategory:null},n.default=S},2016);