__d(function(e,t,o,n){Object.defineProperty(n,"__esModule",{value:!0});var l=t(412),a=babelHelpers.interopRequireDefault(l),i=t(271),r=babelHelpers.interopRequireDefault(i),s=t(44),u=t(743),d=t(410),p=babelHelpers.interopRequireDefault(d),f=t(891),c=babelHelpers.interopRequireDefault(f),b=t(892),h=babelHelpers.interopRequireDefault(b);p.default.registerScreen("airbnb-dls/lib/Modal",function(){return h.default});var M=(0,u.forbidExtraProps)({visible:a.default.bool,onVisibleChange:a.default.func,onModalPresented:a.default.func,onManualClose:a.default.func,onRemove:a.default.func,dark:a.default.bool,backgroundColor:s.ColorPropType,children:a.default.node,rightTitle:a.default.string,onRightPress:a.default.func}),m={dark:!0,onModalPresented:function(){},onManualClose:function(){}},g={airbnbInstanceId:a.default.string},v=function(e){function t(o,n){babelHelpers.classCallCheck(this,t);var l=babelHelpers.possibleConstructorReturn(this,e.call(this,o,n));return l.isModalMounted=!1,l}return babelHelpers.inherits(t,e),t.prototype.componentWillMount=function(){this.modalTag=c.default.instance.allocateId()},t.prototype.componentDidMount=function(){c.default.instance.updateProps(this.modalTag,this.props),this.props.visible&&this.presentModal()},t.prototype.componentWillReceiveProps=function(e){c.default.instance.updateProps(this.modalTag,e),e.visible&&!this.props.visible&&this.presentModal(),this.isModalMounted&&!e.visible&&this.props.visible&&p.default.dismiss({manual:!0})},t.prototype.componentWillUnmount=function(){c.default.instance.clear(this.modalTag)},t.prototype.presentModal=function(){var e=this;this.isModalMounted=!0,p.default.present("airbnb-dls/lib/Modal",{id:this.modalTag}).then(function(t){var o=t.payload;o&&o.manual&&e.props.onManualClose(),e.isModalMounted=!1,e.props.onVisibleChange(!1)}).catch(function(){e.isModalMounted=!1,e.props.onVisibleChange(!1)})},t.prototype.render=function(){return null},t}(r.default.Component);n.default=v,v.defaultProps=m,v.propTypes=M,v.contextTypes=g},890);