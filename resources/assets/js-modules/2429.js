__d(function(e,r,t,i){Object.defineProperty(i,"__esModule",{value:!0});var n=r(412),o=babelHelpers.interopRequireDefault(n),s=r(271),a=babelHelpers.interopRequireDefault(s),p=r(44),T=r(379),l=babelHelpers.interopRequireDefault(T),u=r(1032),c=babelHelpers.interopRequireDefault(u),R=r(410),E=babelHelpers.interopRequireDefault(R),A=r(778),_=babelHelpers.interopRequireDefault(A),d=r(2414),f=r(1818),C=r(2422),N=r(1922),v=r(1919),S=babelHelpers.interopRequireWildcard(v),I=r(1755),h=babelHelpers.interopRequireDefault(I),b=r(1482),y=babelHelpers.interopRequireWildcard(b),O=r(1538),P=babelHelpers.interopRequireWildcard(O),D=r(1483),H={isHostView:o.default.bool.isRequired,tripType:o.default.string.isRequired,trip:d.TripPropShape},U="android"===p.Platform.OS,g=function(e){function r(){return babelHelpers.classCallCheck(this,r),babelHelpers.possibleConstructorReturn(this,e.apply(this,arguments))}return babelHelpers.inherits(r,e),r.prototype.getActionItemProps=function(e){var r=this.props,t=r.trip,i=r.isHostView,n=r.tripType,o=null,s=null;switch(e){case d.TripReservationActionTypes.ACCEPT_DECLINE:o=function(){return(0,h.default)("airbnb://d/inbox?id="+t.threadId)};break;case d.TripReservationActionTypes.CHANGE_OR_CANCEL:o=function(){return(0,h.default)("airbnb://d/reservation?code="+t.confirmationCode)};break;case d.TripReservationActionTypes.CHANGE_RESERVATION:o=function(){return E.default.push(P.ENTRY_POINT_CREATE,{confirmationCode:t.confirmationCode,isHost:i})};break;case d.TripReservationActionTypes.CANCEL_RESERVATION_BY_GUEST:o=function(){return S.navigateToCancelationFlow(t.confirmationCode,!1)};break;case d.TripReservationActionTypes.CANCEL_RESERVATION_BY_HOST:o=function(){return S.navigateToHostCancelationFlow(t.confirmationCode,!1)};break;case d.TripReservationActionTypes.CANCEL_REQUEST:o=function(){return S.navigateToCancelationFlow(t.confirmationCode,!0)};break;case d.TripReservationActionTypes.FIND_NEW_PLACE:o=function(){return(0,h.default)("airbnb://d/search?query="+t.location)};break;case d.TripReservationActionTypes.OFFER_A_REFUND:case d.TripReservationActionTypes.REQUEST_A_REFUND:s=(0,D.getWebUrl)("/resolutions/create/reservation/"+t.confirmationCode);break;case d.TripReservationActionTypes.RESERVATION_DETAILS:o=U?function(){return S.navigateToHostReservation(t.confirmationCode,!1)}:function(){return(0,h.default)("airbnb://d/reservation?code="+t.confirmationCode)};break;case d.TripReservationActionTypes.SEND_OR_REQUEST_MONEY:s=(0,D.getWebUrl)("/resolutions/create/reservation/"+t.confirmationCode);break;case d.TripReservationActionTypes.REPORT_UNSAFE_BEHAVIOR:s=(0,D.getWebUrl)("/reservation/trip_issues/"+t.confirmationCode);break;case d.TripReservationActionTypes.TRIP_DETAILS:o=function(){return E.default.present(N.ITINERARY_CARD,{cardType:n===d.TRIP_TYPES.PENDING?f.HOME_CARD:f.CHECKIN_CARD,id:t.confirmationCode,tripScheduleId:t.confirmationCode,picture:null})};break;case d.TripReservationActionTypes.RESOLUTION_CASE_DETAILS:s=(0,D.getWebUrl)("/resolutions/"+t.resolutionId);break;default:return null}return(0,C.logActionRowClick)(e),o?{onPress:o}:s?{onPress:function(){return E.default.present(y.AUTHENTICATED_WEBVIEW,{url:s})}}:null},r.getActionItemTitle=function(e){switch(e){case d.TripReservationActionTypes.ACCEPT_DECLINE:return l.default.phrase("Respond to request",null,"row title for responding to a request on host view");case d.TripReservationActionTypes.CHANGE_OR_CANCEL:return l.default.phrase("Change or cancel",null,"row title for changing or cancelling reservation");case d.TripReservationActionTypes.CHANGE_RESERVATION:return l.default.phrase("Change reservation",null,"row title for changing reservation");case d.TripReservationActionTypes.CANCEL_RESERVATION_BY_HOST:case d.TripReservationActionTypes.CANCEL_RESERVATION_BY_GUEST:return l.default.phrase("Cancel reservation",null,"row title for cancelling reservation");case d.TripReservationActionTypes.CANCEL_REQUEST:return l.default.phrase("Cancel request",null,"row title for cancelling request");case d.TripReservationActionTypes.FIND_NEW_PLACE:return l.default.phrase("Find a new place",null,"row title for finding a new place");case d.TripReservationActionTypes.OFFER_A_REFUND:return l.default.phrase("Offer a refund",null,"row title for offering a refund");case d.TripReservationActionTypes.REQUEST_A_REFUND:return l.default.phrase("Request a refund",null,"row title for requesting a refund");case d.TripReservationActionTypes.RESERVATION_DETAILS:return l.default.phrase("Reservation details",null,"row title for reservation details");case d.TripReservationActionTypes.SEND_OR_REQUEST_MONEY:return l.default.phrase("Send or request money",null,"row title for sending or requesting money");case d.TripReservationActionTypes.REPORT_UNSAFE_BEHAVIOR:return l.default.phrase("Report unsafe behavior",null,"row title for reporting unsafe behavior");case d.TripReservationActionTypes.TRIP_DETAILS:return l.default.phrase("Trip details",null,"row title for trip details");case d.TripReservationActionTypes.RESOLUTION_CASE_DETAILS:return l.default.phrase("Resolution case details",null,"row title for resolution case details")}return null},r.prototype.getTripActionItems=function(){var e=this.props,r=e.tripType,t=e.trip,i=[],n=t.hasClosedResolutionCase||t.hasPendingResolutionCase;switch(n&&t.resolutionId&&i.push(d.TripReservationActionTypes.RESOLUTION_CASE_DETAILS),r){case d.TRIP_TYPES.PENDING:i.push(d.TripReservationActionTypes.CANCEL_REQUEST);break;case d.TRIP_TYPES.UPCOMING:i.push(d.TripReservationActionTypes.TRIP_DETAILS),t.isCanceled||(i.push(d.TripReservationActionTypes.CHANGE_RESERVATION),i.push(d.TripReservationActionTypes.CANCEL_RESERVATION_BY_GUEST)),n||i.push(d.TripReservationActionTypes.SEND_OR_REQUEST_MONEY),t.showReportUnsafeBehaviorLink&&i.push(d.TripReservationActionTypes.REPORT_UNSAFE_BEHAVIOR);break;case d.TRIP_TYPES.PAST:i.push(d.TripReservationActionTypes.TRIP_DETAILS),n||(i.push(d.TripReservationActionTypes.SEND_OR_REQUEST_MONEY),t.isCanceled&&i.push(d.TripReservationActionTypes.REQUEST_A_REFUND))}return t.isCanceled&&t.findAnotherPlaceUrl&&i.push(d.TripReservationActionTypes.FIND_NEW_PLACE),i},r.prototype.getReservationActionItems=function(){var e=this.props,r=e.tripType,t=e.trip,i=[],n=t.hasClosedResolutionCase||t.hasPendingResolutionCase;switch(n&&t.resolutionId&&i.push(d.TripReservationActionTypes.RESOLUTION_CASE_DETAILS),r){case d.RESERVATION_TYPES.UPCOMING:i.push(d.TripReservationActionTypes.RESERVATION_DETAILS),t.isCanceled||(U?(i.push(d.TripReservationActionTypes.CANCEL_RESERVATION_BY_HOST),i.push(d.TripReservationActionTypes.CHANGE_RESERVATION)):i.push(d.TripReservationActionTypes.CHANGE_OR_CANCEL)),n||i.push(d.TripReservationActionTypes.SEND_OR_REQUEST_MONEY);break;case d.RESERVATION_TYPES.PAST:i.push(d.TripReservationActionTypes.RESERVATION_DETAILS),n||(i.push(d.TripReservationActionTypes.SEND_OR_REQUEST_MONEY),t.isCanceled&&i.push(d.TripReservationActionTypes.OFFER_A_REFUND));break;case d.RESERVATION_TYPES.PENDING:i.push(d.TripReservationActionTypes.ACCEPT_DECLINE)}return i},r.prototype.render=function(){var e=this,t=this.props.isHostView?this.getReservationActionItems():this.getTripActionItems();return babelHelpers.jsx(p.View,{},void 0,babelHelpers.jsx(_.default,{},void 0,t.map(function(t,i){var n=e.getActionItemProps(t);return babelHelpers.jsx(c.default,{onPress:n.onPress,title:r.getActionItemTitle(t)},"trip-action-row-"+i)})))},r}(a.default.PureComponent);i.default=g,g.propTypes=H},2429);