__d(function(e,t,r,s){function n(e){return!e||!e.trim()}function a(e){return!(n(e.addrLine1)||n(e.city)||n(e.state)||n(e.postalCode)||n(e.country))}Object.defineProperty(s,"__esModule",{value:!0});var o=t(412),i=babelHelpers.interopRequireDefault(o),u=t(271),l=babelHelpers.interopRequireDefault(u),d=t(790),f=t(654),p=t(379),c=babelHelpers.interopRequireDefault(p),b=t(44),y=t(410),h=babelHelpers.interopRequireDefault(y),R=t(1023),C=t(1051),m=babelHelpers.interopRequireDefault(C),g=t(1352),x=babelHelpers.interopRequireDefault(g),v=t(1640),T=babelHelpers.interopRequireDefault(v),L=t(839),H=babelHelpers.interopRequireDefault(L),A=t(1758),S=babelHelpers.interopRequireDefault(A),M=t(772),P=babelHelpers.interopRequireDefault(M),E=t(1573),q=babelHelpers.interopRequireWildcard(E),w=t(1569),D=babelHelpers.interopRequireWildcard(w),k={saveCubaGuestAddress:i.default.func.isRequired,tripTemplateId:i.default.number.isRequired},G={},N=function(e){return(0,f.bindActionCreators)({saveCubaGuestAddress:q.saveCubaGuestAddress},e)},V=function(e){function t(r){babelHelpers.classCallCheck(this,t);var s=babelHelpers.possibleConstructorReturn(this,e.call(this,r));return s.state={addrLine1:null,addrLine2:null,city:null,state:null,postalCode:null,country:null,showToast:!1,footerBottomAnim:new b.Animated.Value(0),footerVisible:!1},s.saveCubaGuestAddress=s.saveCubaGuestAddress.bind(s),s.onNext=s.onNext.bind(s),s.setAddrLine1Ref=s.setAddrLine1Ref.bind(s),s.setAddrLine2Ref=s.setAddrLine2Ref.bind(s),s.setCityRef=s.setCityRef.bind(s),s.setStateRef=s.setStateRef.bind(s),s.setPostalCodeRef=s.setPostalCodeRef.bind(s),s.setCountryRef=s.setCountryRef.bind(s),s}return babelHelpers.inherits(t,e),t.prototype.setAddrLine1Ref=function(e){this.addrLine1Ref=e},t.prototype.setAddrLine2Ref=function(e){this.addrLine2Ref=e},t.prototype.setCityRef=function(e){this.cityRef=e},t.prototype.setStateRef=function(e){this.stateRef=e},t.prototype.setPostalCodeRef=function(e){this.postalCodeRef=e},t.prototype.setCountryRef=function(e){this.countryRef=e},t.prototype.saveCubaGuestAddress=function(){var e=this,t=["addrLine1","city","state","postalCode","country"];this.state.addrLine2&&t.push("addrLine2");var r=t.reduce(function(t,r){return t[(0,S.default)(r)]=e.state[r],t},{});this.props.saveCubaGuestAddress(r)},t.prototype.componentWillUpdate=function(e,t){!this.state.footerVisible&&a(t)&&this.slideUpFooter()},t.prototype.slideUpFooter=function(){b.Animated.timing(this.state.footerBottomAnim,{toValue:1,duration:500}).start()},t.prototype.getToastMessage=function(){var e=this.state,t=e.addrLine1Missing,r=e.cityMissing,s=e.stateMissing,n=e.postalCodeMissing,a=e.countryMissing,o=[];return t&&o.push(c.default.phrase("Please enter your address.",null,"error message")),r&&o.push(c.default.phrase("Please enter your city.",null,"error message")),s&&o.push(c.default.phrase("Please enter your state.",null,"error message")),n&&o.push(c.default.phrase("Please enter your postal code.",null,"error message")),a&&o.push(c.default.phrase("Please enter your country.",null,"error message")),o.length>1&&o.push(c.default.phrase("Please enter a complete address.",null,"error message")),0===o.length?null:o.pop()},t.prototype.onNext=function(){var e=this.state,t=e.addrLine1,r=e.city,s=e.state,o=e.postalCode,i=e.country,u={addrLine1Missing:n(t),cityMissing:n(r),stateMissing:n(s),postalCodeMissing:n(o),countryMissing:n(i)};this.setState(u),a(this.state)?(this.saveCubaGuestAddress(),h.default.push(D.TRAVEL_REQUIREMENTS,{showBookingFooter:!0,templateId:this.props.tripTemplateId,prevStep:"cuba_attestation"})):this.setState({showToast:!0})},t.prototype.render=function(){var e=this,t=this.state.footerBottomAnim.interpolate({inputRange:[0,1],outputRange:[T.default.contentInset.bottom,0]}),r={transform:[{translateY:t}]},s=c.default.phrase("Your residence address outside of Cuba",null,"Title for a screen collecting government-required address information for travelers to Cuba"),n=this.state,o=n.addrLine1,i=n.addrLine2,u=n.city,d=n.state,f=n.postalCode,p=n.country,y=n.addrLine1Missing,h=n.cityMissing,R=n.stateMissing,C=n.postalCodeMissing,g=n.countryMissing,v=n.showToast,L=function(t){return function(r){var s;return e.setState((s={},babelHelpers.defineProperty(s,t,r),babelHelpers.defineProperty(s,"showToast",!1),babelHelpers.defineProperty(s,t+"Missing",!1),s))}};return babelHelpers.jsx(P.default,{title:s,footer:a(this.state)&&babelHelpers.jsx(b.Animated.View,{style:[r,j.footer]},void 0,babelHelpers.jsx(T.default,{buttonTextLike:!0,buttonText:c.default.phrase("Next",null,"Next button text"),onButtonPress:this.onNext})),toastsUseRedux:!1,toasts:[v&&babelHelpers.jsx(x.default,{description:this.getToastMessage(),onClosePress:function(){return e.setState({showToast:!1})},error:!0})]},void 0,babelHelpers.jsx(b.View,{style:j.inputContainer},void 0,l.default.createElement(m.default,{label:c.default.phrase("Street",null,"form input label for first part of address"),type:"text",autoCorrect:!1,dark:!0,returnKeyType:"next",ref:this.setAddrLine1Ref,value:o,error:y,onChangeText:L("addrLine1"),onSubmitEditing:function(){return e.addrLine2Ref.focus()}}),l.default.createElement(m.default,{label:c.default.phrase("Apt",null,"form input label for second line of address"),type:"text",autoCorrect:!1,dark:!0,returnKeyType:"next",ref:this.setAddrLine2Ref,value:i,onChangeText:function(t){return e.setState({addrLine2:t})},onSubmitEditing:function(){return e.cityRef.focus()}}),l.default.createElement(m.default,{label:c.default.phrase("City",null,"form input label for city part of address"),type:"text",autoCorrect:!1,dark:!0,returnKeyType:"next",ref:this.setCityRef,value:u,error:h,onChangeText:L("city"),onSubmitEditing:function(){return e.stateRef.focus()}}),l.default.createElement(m.default,{label:c.default.phrase("State",null,"form input label for state part of address"),type:"text",autoCorrect:!1,dark:!0,returnKeyType:"next",ref:this.setStateRef,value:d,error:R,onChangeText:L("state"),onSubmitEditing:function(){return e.postalCodeRef.focus()}}),l.default.createElement(m.default,{label:c.default.phrase("Postal Code",null,"form input label for post code of address"),type:"text",autoCorrect:!1,dark:!0,returnKeyType:"next",ref:this.setPostalCodeRef,value:f,error:C,onChangeText:L("postalCode"),onSubmitEditing:function(){return e.countryRef.focus()}}),l.default.createElement(m.default,{label:c.default.phrase("Country",null,"form input label for country part of address"),type:"text",autoCorrect:!1,dark:!0,returnKeyType:"next",ref:this.setCountryRef,value:p,error:g,onChangeText:L("country"),onSubmitEditing:this.onNext})))},t}(u.PureComponent);V.propTypes=k,V.defaultProps=G,s.default=(0,d.connect)(null,N)(V);var j=R.ThemedStyleSheet.create(function(e){var t=e.size;return{inputContainer:{paddingBottom:t.vertical.medium,paddingHorizontal:t.baseRow.paddingHorizontal},footer:babelHelpers.extends({},H.default.footer)}})},1757);